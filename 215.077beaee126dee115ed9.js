"use strict";(self.webpackChunkgoogle_calendar_clone_vanilla=self.webpackChunkgoogle_calendar_clone_vanilla||[]).push([[215],{287:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(151),r=o(748);const s=new class{constructor(){this.headerOffset=document.querySelector(".header"),this.form=document.querySelector(".entries__form"),this.formBody=document.querySelector(".entries__form--body"),this.formTitleDescription=document.querySelectorAll(".form-body-single"),this.formStartEndCtg=document.querySelectorAll(".form-body-double"),this.formsubmitbtn=document.querySelector(".form--footer__button-save"),this.formCategoryWrapper=document.querySelector(".form--body__category-modal--wrapper"),this.formCategorySelect=document.querySelector(".form--body__category-modal--wrapper-selection"),this.formCategoryWrapperIcon=document.querySelector(".form--body__category-modal--wrapper__color"),this.formCategoryTitle=document.querySelector(".form--body__category-modal--wrapper__title"),this.formCatgoryIcon=document.querySelector(".form--body__category-icon")}setFormStyle(e,t,o,n){o||(o=!1),n||(n=null);const[s,i]=(0,r.tb)(this.form.offsetWidth,this.form.offsetHeight,[e,t],[window.innerWidth,window.innerHeight],o,n);this.form.style.left=`${s}px`,this.form.style.top=`${i}px`,this.form.style.margin="0"}setFormSubmitType(e,t){this.formsubmitbtn.setAttribute("data-form-action",e),this.formsubmitbtn.setAttribute("data-form-entry-id",null===t?t="":t)}configFormTitleDescriptionInput(e,t){for(const[o,n]of this.formTitleDescription.entries())n.firstElementChild.value=[e,t][o]}setFormDateInput(e,t,o,r){const{labels:s}=n.Z,[i,c]=[e.firstElementChild,e.lastElementChild],l=`${t.getHours()}:${o}`;c.setAttribute("data-form-time",l),c.textContent=`${0==+t.getHours()||12==+t.getHours()?12:t.getHours()%12}:${o}${t.getHours()<12?"am":"pm"}`,i.setAttribute("data-form-date",r),i.textContent=`${s.monthsShort[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`}setFormDatepickerDate(e,t,o){o=new Date(o),e.setDateSelected(o.getDate()),t.setDate(e.getYear(),e.getMonth(),e.getDay()),t.setDateSelected(o.getDate())}configFormDateInputs(e){for(let t=0;t<2;t++)this.setFormDateInput(this.formStartEndCtg[t].lastElementChild,e.dateObj[t],e.minutes[t],e.formatted[t])}configFormCategoryInput(e){const[t,o]=e;this.formCategoryWrapper.setAttribute("data-form-category",t),this.formCategorySelect.style.backgroundColor=o,this.formCategoryWrapperIcon.style.backgroundColor=o,this.formCatgoryIcon.firstChild.setAttribute("fill",o),this.formCategoryTitle.textContent=t}getConfig(e){this.setFormSubmitType(e.submission.type,e.submission.id),this.configFormCategoryInput([e.category.name,e.category.color]),this.configFormDateInputs(e.dates.object),"edit"===e.submission.type&&this.configFormTitleDescriptionInput(e.submission.title,e.submission.description)}}},944:(e,t,o)=>{o.d(t,{Z:()=>n});class n{constructor(){this.submission={},this.category={},this.dates={}}setSubmission(e,t,o,n){this.submission={type:e,id:t||null,title:o||null,description:n||null}}setCategory(e,t){this.category={name:e,color:t}}setDates(e){this.dates={object:e}}getSetup(){return{submission:this.submission,category:this.category,dates:this.dates}}}},683:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(432),r=o(634),s=o(748);const i=document.querySelector(".entry__options--overlay"),c=document.querySelector(".entry__options"),l=document.querySelector(".entry__options--header"),a=document.querySelector(".entry__options-date"),d=document.querySelector(".entry__options-time"),u=document.querySelector(".eob-title"),m=document.querySelector(".eob-description"),g=document.querySelector(".eob-category--icon"),p=document.querySelector(".eob-category");function y(e,t,o,y,f){function h(){t.getRenderFormCallback()(),f(),C()}function _(){const r=document.createElement("div");r.classList.add("delete-popup");const s=document.createElement("div");s.classList.add("delete-popup__btns");const i=document.createElement("button");i.classList.add("delete-popup__cancel"),i.textContent="Cancel";const l=document.createElement("button");l.classList.add("delete-popup__confirm"),l.textContent="Delete";const a=document.createElement("p");a.classList.add("delete-popup__text"),a.textContent="Are you sure you want to delete this entry?",s.append(i,l),r.append(a,s),c.append(r);const d=()=>{r.remove()};i.onclick=d,l.onclick=()=>{var r;r=o,t.deleteEntry(r.id),C(),(0,n.Z)(e.getComponent(),e,t,y),d();const s=t.getFormResetHandle(e.getComponent());null!==s&&s()}}function b(){const o=t.getFormResetHandle(e.getComponent());C(),o()}function C(){for(const e of[a,d,u,m,p])e.innerText="";c.classList.add("entry__options--hidden"),i.classList.add("entry__options--hidden"),t.removeActiveOverlay("entry__options--hidden"),m.parentElement.removeAttribute("style"),c.onclick=null,i.onclick=null,l.focus(),document.removeEventListener("keydown",w)}function w(e){const t=document?.querySelector(".delete-popup");if("Escape"===e.key){if(t)return void t.remove();b()}"e"===e.key.toLowerCase()&&h(),"Delete"===e.key&&_()}function v(e){const t=(0,s.As)(e,".eoi__edit"),o=(0,s.As)(e,".eoi__delete"),n=(0,s.As)(e,".eoi__close");t?h():o?_():n&&b()}!function(){c.classList.remove("entry__options--hidden"),i.classList.remove("entry__options--hidden"),t.addActiveOverlay("entry__options--hidden");const[e,n]=[new Date(o.start),new Date(o.end)];let s=!1;(0,r.aN)(e,new Date)&&(s=!0);const l=(0,r.o4)(e,n);if(a.textContent=l.date,null!==l.time)if(void 0===l.time){const e=(new Date).getTime()-n.getTime(),t=Math.floor(e/864e5);let o;if(0===t){const t=Math.floor(e/36e5),n=Math.floor((e-1e3*t*60*60)/6e4);0===t?o=1===n?`ended ${n} minute ago`:`ended ${n} minutes ago`:1===t?o=`ended ${t} hour ago`:t>1&&(o=`ended ${t} hours ago`)}else o=1===t?"ended yesterday":`ended ${t} days ago`;d.textContent=o}else d.textContent=s?"ending in "+l.time:l.time;u.textContent=o.title,0===o.description?m.parentElement.style.display="none":m.textContent=o.description,g.setAttribute("fill",t.getCtgColor(o.category)),p.textContent=o.category,c.onclick=v,i.onclick=b,document.addEventListener("keydown",w)}()}},215:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var n=o(432),r=o(151),s=o(634),i=o(748),c=o(255),l=o(287),a=o(944),d=o(683);const u=document.querySelector(".datetime-content--title"),m=document.querySelector(".listview"),g=document.querySelector(".listview__body"),p=document.querySelectorAll(".lv-view-input");function y(e,t,o){const{labels:y}=r.Z;let f=y.monthsShort.map((e=>e.toUpperCase())),h=y.weekdaysShort.map((e=>e.toUpperCase()));function _(e,t,o,n,r){const s=document.createElement("div");s.classList.add("rowgroup-header");const i=document.createElement("div");i.classList.add("rowgroup--header__datenumber"),i.textContent=o,i.setAttribute("data-rgheader-date",n);const c=document.createElement("div");return c.classList.add("rowgroup--header__monthdow"),c.textContent=`${t}, ${e}`,r&&(i.classList.add("top-datenumber"),c.classList.add("top-monthdow")),s.append(i,c),s}function b(e){const o=t.getCtgColor(e.category),[n,r]=[new Date(e.start),new Date(e.end)];let i;if((0,s.du)(n,r)){let e=0;n.getFullYear()!==r.getFullYear()&&(console.log(n.getFullYear(),r.getFullYear()),e=+r.getFullYear()-2e3),i=`${f[r.getMonth()]} ${r.getDate()} ${e>0?e:""}`}else i=`${(0,c.eJ)([n.getHours(),r.getHours()],[n.getMinutes(),r.getMinutes()])}`;const l=document.createElement("div");l.classList.add("rowgroup--cell"),l.setAttribute("data-rgcell-id",e.id);const a=document.createElement("div");a.classList.add("rowgroup--cell__color"),a.style.backgroundColor=o;const d=document.createElement("div");d.classList.add("rowgroup--cell__time"),d.textContent=i;const u=document.createElement("div");return u.classList.add("rowgroup--cell__title"),u.textContent=e.title,l.append(a,d,u),l}function C(){const e=document?.querySelector(".rowgroup--cell-active");e&&(e.classList.remove("rowgroup--cell-active"),e.removeAttribute("style"))}function w(r){const c=(0,i.As)(r,".rowgroup--header__datenumber"),u=(0,i.As)(r,".rowgroup--cell");c?function(r){const[i,c,l]=(0,s.pH)(r,"data-rgheader-date","month");e.setDate(i,c,l),e.setDateSelected(l),"open"===e.getSidebarState()&&(o.setDate(i,c,l),o.setDateSelected(l)),e.setComponent("day"),(0,n.Z)("day",e,t,o)}(r.target):u&&function(n){const r=n.getAttribute("data-rgcell-id");n.classList.add("rowgroup--cell-active");const c=t.getEntry(r),u=c.start,m=t.getCtgColor(c.category);n.style.backgroundColor=(0,i.v0)(m,.7);const g=n.getBoundingClientRect(),p=n.offsetHeight,y=Number.parseInt(g.top)+p,f=Number.parseInt(g.left);let h=y+12;y+165>window.innerHeight&&(h=y-165-p-12);let _=f;f+150>window.innerWidth&&(_=window.innerWidth-150),t.setFormResetHandle("list",C);const b=new a.Z;b.setSubmission("edit",r,c.title,c.description),b.setCategory(c.category,m),b.setDates((0,s.cF)(u,c.end)),l.Z.setFormDatepickerDate(e,o,u),(0,d.Z)(e,t,c,o,(()=>l.Z.getConfig(b.getSetup())));const w=document.querySelector(".entry__options");w.style.top=h+"px",w.style.left=_+"px"}(u)}function v(){g.innerText="",m.onclick=null,f=null,h=null}const S=t=>{let n=Object.keys(t);const r=n.length;if(0===r)return void(u.textContent="Schedule Clear");const i=(0,s.vY)(n[0].split("-"));e.setDateFromDateObj(i),e.setDateSelected(i.getDate()),"open"===e.getSidebarState&&(o.setDateFromDateObj(i),o.setDateSelected(i.getDate())),u.textContent=(0,s.$M)(n[0],n[r-1],!0),function(e){let t=1;for(const[o,n]of Object.entries(e)){const e=(0,s.vY)(o.split("-")),r=_(h[e.getDay()],f[e.getMonth()],e.getDate(),o,1===t);t=null;const i=document.createElement("div");i.classList.add("rowgroup-content");for(const e of(0,s.lS)(n))i.append(b(e));const c=document.createElement("div");c.classList.add("listview__rowgroup"),c.append(r,i),g.append(c)}}(t),t=null,n=null},D=(e,t)=>{const[o,n,r]=(0,s.hc)(t);return e.reduce(((e,t)=>{const i=new Date(t.start),[c,l,a]=(0,s.hc)(i),d=`${c}-${l}-${a}`;return c<o||c===o&&l<n||c===o&&l===n&&a<r||(e[d]||(e[d]=[]),e[d].push(t)),e}),{})},E=(e,t)=>{if(g.innerText="",0!==e.length){if("tasks"===m.getAttribute("data-listview-type"))S(D(t,new Date));else{const e=t.length>0?new Date(t[0].start):new Date;S(D(t,e))}e=null,t=null}else u.textContent="No Entries to Display"},k=(e,t,o)=>{const n=e.target.value;m.setAttribute("data-listview-type",n),E(t,o)};(()=>{const e=t.getActiveEntries();let o=t.sortBy(e,"start","desc");t.setResetPreviousViewCallback(v),E(e,o),m.onclick=w;for(const t of p)t.onchange=t=>{k(t,e,o)}})()}}}]);