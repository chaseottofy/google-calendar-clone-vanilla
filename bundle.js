/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/styles/aside/changeViewModule.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/datepicker.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/deleteCategoryPopup.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/editCategoryForm.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/entryOptions.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/form.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/goto.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/info.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/shortcuts.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/sidebarSubMenu.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/timepicker.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/toast.css":(e,t,o)=>{o.r(t)},"./src/styles/aside/toggleForm.css":(e,t,o)=>{o.r(t)},"./src/styles/containers.css":(e,t,o)=>{o.r(t)},"./src/styles/dayview.css":(e,t,o)=>{o.r(t)},"./src/styles/header.css":(e,t,o)=>{o.r(t)},"./src/styles/listview.css":(e,t,o)=>{o.r(t)},"./src/styles/monthview.css":(e,t,o)=>{o.r(t)},"./src/styles/root.css":(e,t,o)=>{o.r(t)},"./src/styles/sbdatepicker.css":(e,t,o)=>{o.r(t)},"./src/styles/sidebar.css":(e,t,o)=>{o.r(t)},"./src/styles/weekview.css":(e,t,o)=>{o.r(t)},"./src/styles/yearview.css":(e,t,o)=>{o.r(t)},"./src/components/forms/entryForm.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var s=o("./src/config/setViews.js"),n=o("./src/components/menus/datepicker.js"),r=o("./src/components/menus/sidebarDatepicker.js"),a=o("./src/locales/en.js"),i=o("./src/utilities/svgs.js"),c=o("./src/components/toastPopups/toast.js"),l=o("./src/utilities/helpers.js"),d=o("./src/utilities/dateutils.js");const u=document.querySelector(".sidebar"),m=document.querySelector(".datepicker"),g=document.querySelector(".datepicker-overlay"),p=document.querySelector(".form-overlay"),h=document.querySelector(".form-modal-overlay"),y=document.querySelector(".entries__form"),f=document.querySelector(".entries__form--header"),v=document.querySelector(".entry-form"),b=document.querySelector(".entries__form--body"),w=document.querySelector(".form--body__title-input"),S=document.querySelector(".form--body__description-input"),C=document.querySelector(".form--body-start__date"),x=document.querySelector(".form--body-end__date"),k=document.querySelector(".form--body-start__time"),D=document.querySelector(".form--body-end__time"),L=document.querySelector(".form--body__category-modal"),_=document.querySelector(".close-options-floating__btn"),A=document.querySelector(".form--body__category-icon"),E=document.querySelector(".form--body__category-modal--wrapper"),M=document.querySelector(".form--body__category-modal--wrapper-selection"),$=document.querySelector(".form--body__category-modal--wrapper__color"),q=document.querySelector(".form--body__category-modal--wrapper__title"),T=document.querySelector(".form--footer__button-save");function j(e,t,o){let j,F,I,[Y,O,B]=[null,null,null];function N(){const e=document?.querySelector(".timepicker"),t=document?.querySelector(".timepicker-overlay"),o=document?.querySelector(".timepicker-times__container"),s=document?.querySelector(".active-form-time");e&&(e.scrollTo(0,0),e.remove(),t.remove(),t.onclick=null,o.onclick=null),s&&s.classList.remove("active-form-time")}function H(){const e=C.getAttribute("data-form-date").split("-").map((e=>parseInt(e)));let t=new Date(e[0],e[1],e[2]+1),o=`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`,s=a.default.labels.monthsShort[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear();x.setAttribute("data-form-date",o),x.textContent=s,D.setAttribute("data-form-time","00:30"),D.textContent="12:30am"}function R(e,t,o,s){const n=document.createElement("div");n.classList.add("timepicker"),n.style.top=`${e.y}px`,n.style.left=`${e.x}px`;const r=document.createElement("div");r.classList.add("timepicker-overlay");const a=document.createElement("div");a.classList.add("timepicker-times__container");let i=[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11],c=["am","am","am","am","am","am","am","am","am","am","am","am","pm","pm","pm","pm","pm","pm","pm","pm","pm","pm","pm","pm"],d=["00","15","30","45"],[u,m]=t.split(":").map((e=>parseInt(e))),g=u>12?"pm":"am",p=C.getAttribute("data-form-date")===x.getAttribute("data-form-date"),h=!1;if(o&&23===u&&45===m&&(h=!0),u>12&&(u-=12),null!==s&&p){let[e,t]=s.split(":").map((e=>parseInt(e)));if(h&&23===e&&t>=15)return H(),void N();23===e?45===t?H():(i=[12],c=["pm"],t=t.slice(-1)):(i=i.slice(+e+1,i.length),c=c.slice(+e+1,c.length))}let y,f=0;function v(e){const t=e.target.textContent;let s=e.target.getAttribute("data-tp-time");if(o)D.textContent=t,D.setAttribute("data-form-time",s);else{k.textContent=t,k.setAttribute("data-form-time",s);let[e,o]=s.split(":").map((e=>+e)),[n,r]=D.getAttribute("data-form-time").split(":").map((e=>parseInt(e)));p&&(23===e&&45===o?H():(e>n||e===n&&o>=r)&&function(){const e=k.getAttribute("data-form-time").split(":").map((e=>parseInt(e)));let[t,o]=[e[0]<23?e[0]+1:23,e[0]<23?e[1]:45],s=new Date(0,0,0,t,o),n=s.getHours()>12?"pm":"am",r=`${s.getHours()}:${s.getMinutes()}`,a=`${+s.getHours()%12}:${0==+s.getMinutes()?"00":s.getMinutes()}${n}`;D.setAttribute("data-form-time",r),D.textContent=a}())}N()}i.forEach(((e,t)=>{d.forEach((s=>{const n=document.createElement("div");let r;n.classList.add("timepicker-time"),"am"===c[t]?r=12==+e?`00:${s}`:`${e}:${s}`:"pm"===c[t]&&(r=12===e?`12:${s}`:`${e+12}:${s}`),n.setAttribute("data-tp-time",r),n.textContent=`${e}:${s}${c[t]}`,f++,o||+e==+u&&+s==+m&&("pm"===g&&"pm"===c[t]||"am"===g&&"am"===c[t])&&(n.classList.add("timepicker-time--selected"),y=f),a.appendChild(n)}))}));n.appendChild(a);const[b,w]=e;n.setAttribute("style",`top:${w}px; left:${b}px;`),document.body.prepend(r,n),r.onclick=N,a.onclick=e=>{(0,l.getClosest)(e,".timepicker-time")&&v(e)},o?n.scrollTo(0,0):y>0?n.scrollTo(0,parseInt(40*y)-40):n.scrollTo(0,0)}function P(s,r){s.preventDefault(),"start"===r?(C.setAttribute("class","form--body-start__date active-form-date"),x.setAttribute("class","form--body-end__date inactive-form-date")):(C.setAttribute("class","form--body-start__date inactive-form-date"),x.setAttribute("class","form--body-end__date active-form-date"));const[a,i,c]=(0,d.getDateFromAttribute)(s.target,"data-form-date"),l=s.target.getBoundingClientRect(),u=parseInt(l.left),p=parseInt(l.bottom);let h=parseInt(l.top);"end"===r&&(h-=40),window.innerHeight-216<=p&&(h=window.innerHeight-242),m.setAttribute("style",`top:${h}px;left:${u}px;`),function(s,r,a){g.classList.remove("hide-datepicker-overlay"),m.classList.remove("hide-datepicker"),t.addActiveOverlay("hide-datepicker-overlay"),o.setDate(s,r,a),o.setDateSelected(a),(0,n.default)(e,t,o,"form")}(a,i,c)}function z(e){const[t,o,s]=e.split("-").map((e=>parseInt(e)));return new Date(t,o,s)}function W(e){return e.split(":").map((e=>parseInt(e)))}function U(e,t){return e.setHours(t[0]),e.setMinutes(t[1]),e.setSeconds(0),e}function V(e){if(e.target.classList.contains("form-input-error"))e.preventDefault(),e.target.classList.remove("form-input-error"),e.target.removeAttribute("data-form-error-message"),e.target.firstElementChild.focus();else{if(!e.target.classList.contains("form-input-error__custom-input"))return;e.target.classList.remove("form-input-error__custom-input"),e.target.removeAttribute("data-form-error-message"),e.target.focus()}}function Q(){t.removeLastEntry(),(0,s.default)(I,e,t,o)}function J(){const e=document?.querySelectorAll(".form-input-error");e&&e.forEach((e=>{e.classList.remove("form-input-error"),e.removeAttribute("data-form-error-message")}))}function X(e){m.classList.contains("hide-datepicker")||(m.classList.add("hide-datepicker"),g.classList.add("hide-datepicker-overlay")),J(),p.onclick=null,f.onmousedown=null,y.onclick=null,document.removeEventListener("keydown",ne),y.classList.add("hide-form"),p.classList.add("hide-form-overlay"),t.removeActiveOverlay("hide-datepicker-overlay"),t.removeActiveOverlay("hide-form-overlay"),v.reset(),S.value="",w.value="",E.classList.contains("category-modal-open")&&G();const o=t.getFormResetHandle(I);null!==o&&(o(),t.setFormResetHandle(I,null))}function Z(n,a,i,l){if(e.setDate(n.getFullYear(),n.getMonth(),n.getDate()),e.setDateSelected(n.getDate()),(0,s.default)(I,e,t,o),t.getDayEntriesArray(e.getDate()).length<=1&&(u.classList.contains("hide-sidebar")||(e.setDateSelected(B),(0,r.default)(e,t,o))),X(),"create"===a)setTimeout((()=>{(0,c.default)("Event created",Q)}),4);else{if(!t.compareEntries(l,t.getEntry(i))){const n=()=>{!function(n,r){const a=new Date(r.start);t.updateEntry(n,{category:r.category,completed:r.completed,description:r.description,end:new Date(r.end),id:n,start:a,title:r.title}),e.setDate(a.getFullYear(),a.getMonth(),a.getDate()),e.setDateSelected(a.getDate()),(0,s.default)(I,e,t,o)}(i,l)};setTimeout((()=>{(0,c.default)("Event updated",n)}),4)}}}function K(e){e.preventDefault();const o=w.value,s=S.value,[n,r]=function(){let e=z(C.getAttribute("data-form-date")),t=k.getAttribute("data-form-time"),[o,s]=W(t),n=z(x.getAttribute("data-form-date")),r=D.getAttribute("data-form-time"),[a,i]=W(r);return[U(e,[o,s]),U(n,[a,i])]}(),a=E.getAttribute("data-form-category"),i=function(e,o,s,n,r){const a={title:!0,description:!0,startDate:!0,endDate:!0,valid:!0};if("string"==typeof e){const t=e.trim().replace(/[^a-zA-Z0-9\s_-]+|\s{2,}/g," ");t.length>50?(a.title="Title must be Less than 50 characters",a.valid=!1):0===t.length&&(a.title="Title cannot be empty",a.valid=!1)}else a.title="Title cannot be empty";o.length>=200&&(a.description="Description must be less than 200 characters",a.valid=!1),t.hasCtg(s)&&s||E.setAttribute("data-form-category","default"),n?(0,d.isDate)(n)||(a.startDate="Start date is not valid",a.valid=!1):(a.startDate="Start date cannot be empty",a.valid=!1),r?(0,d.isDate)(r)?(0,d.isBeforeDate)(n,r)||(a.endDate="End date must be after start date",a.valid=!1):(a.endDate="End date is not valid",a.valid=!1):(a.endDate="End date cannot be empty",a.valid=!1);let i,c={};for(let e in a)!0!==a[e]&&(c[e]=a[e],i=!0);return!i||c}(o,s,a,n,r);if(!0===i){if("edit"===T.getAttribute("data-form-action")){const e=T.getAttribute("data-form-entry-id"),i=JSON.parse(JSON.stringify(t.getEntry(e)));return t.updateEntry(e,{category:a,completed:!1,description:s,end:r,id:e,start:n,title:o}),void Z(n,"edit",e,i)}t.createEntry(a,!1,s,r,n,o),Z(n,"create",t.getLastEntryId(),null)}else!function(e){w.blur();const t={title:w,description:S,startDate:C,endDate:x},o="data-form-error-message",s="form-input-error",n="form-input-error__custom-input",r="form-error__submit-btn";for(let r in e)if(t[r])if("title"===r||"description"===r)t[r].parentElement.setAttribute(o,e[r]),t[r].parentElement.classList.add(s);else{t[r].setAttribute(o,e[r]),t[r].classList.add(n);const s=t[r].parentElement.parentElement.firstElementChild.firstElementChild;s.style.fill="var(--red2)",setTimeout((()=>{s.style.fill="var(--white3)"}),1e3)}T.classList.add(r),setTimeout((()=>{T.classList.remove(r)}),1e3)}(i)}function G(){_.style.display="none",E.classList.remove("category-modal-open"),L.classList.add("hide-form-category-modal"),M.classList.remove("hide-form-category-selection"),h.classList.add("hide-form-overlay"),E.removeAttribute("style"),L.innerText=""}function ee(e,t){const o=t.length;1!==o&&(_.removeAttribute("style"),setTimeout((()=>{b.scrollTo({top:b.scrollHeight,behavior:"smooth"})}),5),o>=5?_.setAttribute("style","top: -100px"):_.setAttribute("style",`top: ${20*o*-1}px`),E.classList.add("category-modal-open"),E.style.height=o<5?32*o+"px":"160px",M.classList.add("hide-form-category-selection"),L.classList.remove("hide-form-category-modal"),L.style.height=32*o+"px",L.innerText="",function(e,t){const o=E.getAttribute("data-form-category");t.forEach((([t,s])=>{const n=s.color,r=document.createElement("div");r.classList.add("category-modal--category"),r.style.width="200px",r.style.backgroundColor=n,r.setAttribute("data-form-category-title",t),r.setAttribute("data-form-category-color",n);const a=document.createElement("div");a.classList.add("category-modal--category-color"),a.style.backgroundColor=n;const c=document.createElement("div");if(c.classList.add("category-modal--category-title"),c.textContent=t,t===o){const e=(0,i.createCheckIcon)("var(--white4)"),t=document.createElement("div");t.classList.add("category-modal--category-check"),t.appendChild(e),r.append(a,c,t)}else r.append(a,c);e.appendChild(r)}))}(L,t),h.classList.remove("hide-form-overlay"))}function te(e){const t=e.getBoundingClientRect();let[o,s]=(0,l.placePopup)(180,200,[parseInt(t.left),parseInt(t.top)],[window.innerWidth,window.innerHeight],!1);return[o,s]}function oe(e){const t=(0,l.getClosest)(e,".form-header--dragarea"),o=(0,l.getClosest)(e,".form--header__icon-close");if(t){if(window.innerWidth<500||window.innerHeight<500)return;!function(e){const t=document.querySelector(".form--header__icon-close"),o=y.getBoundingClientRect(),[s,n]=[parseInt(o.left),parseInt(o.top)];y.style.margin="0",y.style.opacity="0.8",y.style.userSelect="none",y.style.top=n+"px",y.style.left=s+"px",y.style.bottom="0",y.style.right="0",t.style.pointerEvents="none",v.style.pointerEvents="none";let[r,a]=[e.clientX,e.clientY];const[i,c]=[window.innerHeight,window.innerWidth],d=(0,l.throttle)((function(e){let[t,o]=[r-e.clientX,a-e.clientY];r=e.clientX,a=e.clientY,y.offsetTop<0&&(y.style.top="0px"),y.offsetLeft<0&&(y.style.left="0px"),y.offsetLeft+y.offsetWidth>c&&(y.style.left=c-y.offsetWidth+"px"),y.offsetTop+y.offsetHeight>i&&(y.style.top=i-y.offsetHeight+"px"),y.style.top=y.offsetTop-o+"px",y.style.left=y.offsetLeft-t+"px"}),10);document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function e(){y.style.opacity="1",y.style.userSelect="all",t.removeAttribute("style"),v.removeAttribute("style"),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",e)}))}(e)}else o&&X()}function se(e){const t=(0,l.getClosest)(e,".form--body-start__date"),o=(0,l.getClosest)(e,".form--body-start__time"),s=(0,l.getClosest)(e,".form--body-end__date"),n=(0,l.getClosest)(e,".form--body-end__time"),r=(0,l.getClosest)(e,".form--body__category-modal"),a=(0,l.getClosest)(e,".form--body__category-modal--wrapper-selection"),i=(0,l.getClosest)(e,".close-options-floating__btn"),c=(0,l.getClosest)(e,".form-modal-overlay"),d=(0,l.getClosest)(e,".form-input-error"),u=(0,l.getClosest)(e,".form-input-error__custom-input"),m=(0,l.getClosest)(e,".form--footer__button-cancel"),g=(0,l.getClosest)(e,".form--footer__button-save");if(t)P(e,"start");else{if(o)return e.target.classList.add("active-form-time"),void R(te(e.target),k.getAttribute("data-form-time"),!1,null);if(s)P(e,"end");else{if(n)return e.target.classList.add("active-form-time"),void R(te(e.target),D.getAttribute("data-form-time"),!0,k.getAttribute("data-form-time"));if(r)L.childElementCount>0&&function(e){const t=e.target.getAttribute("data-form-category-title"),o=e.target.getAttribute("data-form-category-color");E.setAttribute("data-form-category",t),A.firstElementChild.setAttribute("fill",o),M.style.backgroundColor=o,$.style.backgroundColor=o,q.textContent=t,G()}(e);else if(a)ee(0,j);else if(i)G();else if(c)G();else if(d)V(e);else{if(!u)return m?(v.reset(),J(),re(),void G()):void(g&&K(e));V(e)}}}}function ne(e){if(m.classList.contains("hide-datepicker")){const t=document?.querySelector(".timepicker"),o=document?.querySelector(".hide-form-category-modal");"Escape"===e.key&&(null!==t?N():null===o?G():X()),"Enter"===e.key&&(null!==t?N():null===o?G():K(e))}}function re(){j=Object.entries(t.getAllCtg()),F=t.getActiveCategoriesKeyPair(),I=e.getComponent(),Y=e.getYear(),O=e.getMonth(),B=e.getDay(),S.value="",w.blur(),w.value="",setTimeout((()=>{w.focus()}),10),function(){let[e,t]=0===F.length?[j[0][0],j[0][1].color]:[F[0][0],F[0][1].color];E.setAttribute("data-form-category",e),M.style.backgroundColor=t,q.textContent=e,$.style.backgroundColor=t,A.firstElementChild.setAttribute("fill",t)}(),o.setDate(Y,O,B),e.setDateSelected(B);const s=`${e.getMonthName().slice(0,3)} ${B}, ${Y}`;C.textContent=s,C.setAttribute("data-form-date",(0,d.getDateForStore)(e.getDate())),x.textContent=s,x.setAttribute("data-form-date",(0,d.getDateForStore)(e.getDate()));const n=(new Date).getHours();k.setAttribute("data-form-time",`${n}:00`),D.setAttribute("data-form-time",`${n}:30`);const r=(e,t)=>`${0==+e||12==+e?12:e%12}:${t}${e<12?"am":"pm"}`;k.textContent=r(n,"00"),D.textContent=r(n,"30"),T.setAttribute("data-form-action","create"),T.setAttribute("data-form-id",""),f.onmousedown=oe,p.onclick=X,y.onclick=se,document.addEventListener("keydown",ne)}re()}},"./src/components/forms/formUtils.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var s=o("./src/locales/en.js"),n=o("./src/utilities/helpers.js");const r=new class{constructor(){this.monthNames=s.default.labels.monthsShort,this.headerOffset=document.querySelector(".header"),this.form=document.querySelector(".entries__form"),this.formBody=document.querySelector(".entries__form--body"),this.formTitleDescription=document.querySelectorAll(".form-body-single"),this.formStartEndCtg=document.querySelectorAll(".form-body-double"),this.formsubmitbtn=document.querySelector(".form--footer__button-save"),this.formCategoryWrapper=document.querySelector(".form--body__category-modal--wrapper"),this.formCategorySelect=document.querySelector(".form--body__category-modal--wrapper-selection"),this.formCategoryWrapperIcon=document.querySelector(".form--body__category-modal--wrapper__color"),this.formCategoryTitle=document.querySelector(".form--body__category-modal--wrapper__title"),this.formCatgoryIcon=document.querySelector(".form--body__category-icon")}setFormStyle(e,t,o,s){o||(o=!1),s||(s=null);let[r,a]=(0,n.placePopup)(this.form.offsetWidth,this.form.offsetHeight,[e,t],[window.innerWidth,window.innerHeight],o,s);this.form.style.left=`${r}px`,this.form.style.top=`${a}px`,this.form.style.margin="0"}setFormSubmitType(e,t){this.formsubmitbtn.setAttribute("data-form-action",e),this.formsubmitbtn.setAttribute("data-form-entry-id",null===t?t="":t)}configFormTitleDescriptionInput(e,t){this.formTitleDescription.forEach(((o,s)=>{o.firstElementChild.value=[e,t][s]}))}setFormDateInput(e,t,o,s){const[n,r]=[e.firstElementChild,e.lastElementChild],a=`${t.getHours()}:${o}`;r.setAttribute("data-form-time",a),r.textContent=`${0==+t.getHours()||12==+t.getHours()?12:t.getHours()%12}:${o}${t.getHours()<12?"am":"pm"}`,n.setAttribute("data-form-date",s),n.textContent=`${this.monthNames[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`}setFormDatepickerDate(e,t,o){o=new Date(o),e.setDateSelected(o.getDate()),t.setDate(e.getYear(),e.getMonth(),e.getDay()),t.setDateSelected(o.getDate())}configFormDateInputs(e){for(let t=0;t<2;t++)this.setFormDateInput(this.formStartEndCtg[t].lastElementChild,e.dateObj[t],e.minutes[t],e.formatted[t])}configFormCategoryInput(e){const[t,o]=e;this.formCategoryWrapper.setAttribute("data-form-category",t),this.formCategorySelect.style.backgroundColor=o,this.formCategoryWrapperIcon.style.backgroundColor=o,this.formCatgoryIcon.firstChild.setAttribute("fill",o),this.formCategoryTitle.textContent=t}getConfig(e){this.setFormSubmitType(e.submission.type,e.submission.id),this.configFormCategoryInput([e.category.name,e.category.color]),this.configFormDateInputs(e.dates.object),"edit"===e.submission.type&&this.configFormTitleDescriptionInput(e.submission.title,e.submission.description)}}},"./src/components/forms/goto.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>p});var s=o("./src/locales/en.js"),n=o("./src/config/setViews.js"),r=o("./src/components/menus/sidebarDatepicker.js");const a=s.default.labels.monthsShortLower,i=s.default.labels.monthsLongLower,c=document.querySelector(".go-to-date-overlay"),l=document.querySelector(".go-to-date"),d=document.querySelector(".go-to-input"),u=document.querySelector(".go-to-err"),m=document.querySelector(".cancel-go-to"),g=document.querySelector(".submit-go-to");function p(e,t,o){function s(){u.style.display="none",u.onmousedown=null}function p(){const c=function(e){let t,o=!1;t=e.includes("/")?e.split("/"):e.split(" "),3!==t.length&&(o=!0);const[s,n,r]=t.map(((e,t)=>{let s=parseInt(e),n=null;return isNaN(s)&&(n=e.length>3?i.indexOf(e.toLowerCase()):a.indexOf(e.toLowerCase())),0===t&&null===n&&(s-=1,-1===s&&(s=0)),-1===n&&(o=!0),2===t&&(s<100?s+=2e3:(s>2100||s>100&&s<1901)&&(o=!0)),null===n?s:n})),c=new Date(r,s,n);return"Invalid Date"===c.toString()&&(o=!0),!o&&c}(d.value);if(c instanceof Date){e.setDate(c.getFullYear(),c.getMonth(),c.getDate()),e.setDateSelected(c.getDate()),"hide"!==e.getSidebarState()&&(0,r.default)(e,t,o);let s=e.getComponent();"list"===s&&(s="day"),y(),(0,n.default)(s,e,t,o)}else u.style.display="block",u.onmousedown=s}function h(e){const t=e.key.toLowerCase();"escape"!==t?"enter"!==t||p():"block"===u.style.display?s():y()}function y(){document.removeEventListener("keydown",h),m.onclick=null,g.onclick=null,t.removeActiveOverlay("hide-gotodate"),c.classList.add("hide-gotodate"),l.classList.add("hide-gotodate"),d.value=""}s(),setTimeout((()=>{d.focus(),d.value=function(){const[t,o,s]=[e.getYear(),e.getMonth(),e.getDay()];return`${a[o]} ${s} ${t}`}()}),10),c.classList.remove("hide-gotodate"),l.classList.remove("hide-gotodate"),t.addActiveOverlay("hide-gotodate"),document.addEventListener("keydown",h),m.onclick=y,g.onclick=p}},"./src/components/forms/setForm.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});class s{constructor(){this.submission,this.category,this.dates}setSubmission(e,t,o,s){this.submission={type:e,id:t||null,title:o||null,description:s||null}}setCategory(e,t){this.category={name:e,color:t}}setDates(e){this.dates={object:e}}getSetup(){return{submission:this.submission,category:this.category,dates:this.dates}}}},"./src/components/menus/datepicker.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var s=o("./src/utilities/helpers.js"),n=o("./src/utilities/dateutils.js"),r=o("./src/config/setViews.js");const a=document.querySelector(".datepicker"),i=document.querySelector(".datepicker-overlay"),c=document.querySelector(".datepicker__body--dates"),l=document.querySelector(".datepicker-title"),d=document.querySelector(".datepicker-change-date"),u=document.querySelector(".prev"),m=document.querySelector(".next"),g=document.querySelector(".yearpicker-title"),p=document.querySelectorAll(".monthpicker__month");function h(e,t,o,h){let y,f=o.getMonthArray(),v=0,b="form"===h?o.getDateSelected():e.getDateSelected(),[w,S]=[null,null];const C=(0,s.throttle)((function(e){const t=d.classList.contains("show-dpcd");switch(e.key){case"ArrowDown":t?E(-1,!1):_();break;case"ArrowUp":t?E(1,!1):L();break;case"ArrowRight":t?M("next"):function(){let e=document.querySelector(".datepicker__body--datename-selected");const t=e.parentElement?.nextElementSibling?.firstElementChild;if(t&&null!=t){e.classList.remove("datepicker__body--datename-selected"),t.classList.add("datepicker__body--datename-selected");let s=t.getAttribute("data-datepicker-date"),n=parseInt(s.split("-")[2]);return void o.setDateSelected(n)}L(),o.setDateSelected(1),e=document.querySelector(".datepicker__body--datename-selected"),e.classList.remove("datepicker__body--datename-selected"),document.querySelectorAll(".datepicker__body--datename")[0].classList.add("datepicker__body--datename-selected")}();break;case"ArrowLeft":t?M("prev"):function(){let e=document.querySelector(".datepicker__body--datename-selected");const t=e.parentElement?.previousElementSibling?.firstElementChild;if(t&&null!=t)return e.classList.remove("datepicker__body--datename-selected"),void t.classList.add("datepicker__body--datename-selected");{_();const t=o.getDaysInMonth();o.setDateSelected(+t),e=document.querySelector(".datepicker__body--datename-selected"),e.classList.remove("datepicker__body--datename-selected");let s=document.querySelectorAll(".datepicker__body--datename");s[s.length-1].classList.add("datepicker__body--datename-selected")}}();break;case"Enter":if(d.classList.contains("show-dpcd"))q();else{const e=document.querySelector(".datepicker__body--datename-selected");if(null!==e&&e){D(null,(0,n.getDateFromAttribute)(e,"data-datepicker-date"))}else D(null,[o.getYear(),o.getMonth(),28])}break;case"Escape":d.classList.contains("show-dpcd")?q():T()}}),100);function x(){const e=o.getYear(),t=o.getMonthName();l.textContent=`${t} ${e}`}function k(s){c.innerText="";let r=t.getMonthEntryDates(s),a=e.getWeek();for(let t=0;t<s.length;t++){const i=document.createElement("div"),l=document.createElement("div");i.classList.add("datepicker__body--dates-cell"),l.classList.add("datepicker__body--datename"),s[t].getMonth()!==o.getMonth()&&l.classList.add("datepicker__body--datename-disabled"),(0,n.compareDates)(s[t],a)&&"week"===e.getComponent()&&(y=!0),y?(v++,v<=7&&i.classList.add("datepicker__body--dates-week")):i.classList.remove("datepicker__body--dates-week"),s[t].getDate()===b&&s[t].getMonth()===o.getMonth()&&(l.classList.contains("datepicker__body--datename-today")||(l.setAttribute("class","datepicker__body--datename"),l.classList.add("datepicker__body--datename-selected"))),e.isToday(s[t])&&(l.setAttribute("class","datepicker__body--datename"),l.classList.add("datepicker__body--datename-today")),l.innerText=s[t].getDate();const d=(0,n.getDateForStore)(s[t]);l.setAttribute("data-datepicker-date",d),r.includes(d)?l.classList.contains("datepicker__body--datename-today")||l.classList.contains("datepicker__body--datename-selected")||(l.setAttribute("class","datepicker__body--datename"),l.classList.add("datepicker__body--datename-entries")):l.classList.remove("datepicker__body--datename-entries"),i.appendChild(l),c.appendChild(i)}a=null,r=[]}function D(s,a){let[i,c,l]=[null,null,null];if(null===s)i=a[0],c=a[1],l=a[2];else{let e=(0,n.getDateFromAttribute)(s.target,"data-datepicker-date");i=e[0],c=e[1],l=e[2]}"form"===h?(!function(t,s,r){o.setDate(t,s,r),e.setDateSelected(r);const a=o.getDate(),i=document.querySelector(".active-form-date");i.setAttribute("data-form-date",`${t}-${s}-${r}`),i.textContent=`${o.getMonthName().slice(0,3)} ${r}, ${t}`;const c=document?.querySelector(".inactive-form-date"),l=c.getAttribute("data-form-date").split("-").map((e=>parseInt(e))),d=new Date(l[0],l[1],l[2]),u=c.getAttribute("data-form-date-type");((0,n.isBeforeDate)(d,a)&&"end"===u||(0,n.isBeforeDate)(a,d)&&"start"===u)&&(c.setAttribute("data-form-date",`${t}-${s}-${r}`),c.textContent=`${o.getMonthName().slice(0,3)} ${r}, ${t}`)}(i,c,l),T()):function(s,n,a){e.setDate(s,n,a),e.setDateSelected(a),(0,r.default)(e.getComponent(),e,t,o),o.setDate(s,n,a),T()}(i,c,l)}function L(){o.setNextMonth(),f=o.getMonthArray(),k(f),x()}function _(){o.setPrevMonth(),f=o.getMonthArray(),k(f),x()}function A(e,t){const s=e;(t||s!==o.getMonth())&&(o.setMonth(s),p.forEach(((e,t)=>{t===s?e.classList.add("monthpicker__active-month"):e.classList.remove("monthpicker__active-month")})))}function E(e,t){if(t)return void(g.textContent=o.getYear());const s=parseInt(o.getYear())+e;s!=+o.getYear()&&(o.setYear(s),g.textContent=s)}function M(e){const t=document.querySelector(".monthpicker__active-month");let o=parseInt(t.getAttribute("data-dp-month"));A("next"===e?(o+1)%12:0===o?11:o-1)}function $(){w=o.getMonth(),S=o.getYear(),d.classList.add("show-dpcd"),E(null,!0),A(o.getMonth(),!0)}function q(){w===o.getMonth()&&S===o.getYear()||(f=o.getMonthArray(),k(f),x()),d.classList.remove("show-dpcd")}function T(){a.classList.add("hide-datepicker"),i.classList.add("hide-datepicker-overlay"),q();const o=t.getActiveOverlay().has("hide-form-overlay");!("list"!==e.getComponent())&&o||(u.removeAttribute("style"),m.removeAttribute("style")),"form"===h&&document.querySelector(".active-form-date")?.classList.remove("active-form-date"),c.innerText="",a.removeAttribute("tabindex"),v=0,w=null,S=null,f=[],i.onclick=null,a.onclick=null,document.removeEventListener("keydown",C)}function j(e){const t=(0,s.getClosest)(e,".datepicker__body--datename"),o=(0,s.getClosest)(e,".datepicker-nav--next"),n=(0,s.getClosest)(e,".datepicker-nav--prev"),r=(0,s.getClosest)(e,".datepicker-title"),a=(0,s.getClosest)(e,".close-change-date"),i=(0,s.getClosest)(e,".yearpicker-next"),c=(0,s.getClosest)(e,".yearpicker-prev"),l=(0,s.getClosest)(e,".monthpicker__month");if(t)D(e);else if(o)L();else if(n)_();else if(r)$();else if(a)q();else if(i)E(1,!1);else if(c)E(-1,!1);else if(l){A(parseInt(e.target.getAttribute("data-dp-month")),!1)}else;}x(),k(f),t.setResetDatepickerCallback(T),i.onclick=T,a.onclick=j,document.addEventListener("keydown",C),f=[]}},"./src/components/menus/editCategory.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var s=o("./src/locales/en.js"),n=o("./src/utilities/svgs.js"),r=o("./src/utilities/helpers.js");const a=(0,n.createCheckIcon)("var(--taskcolor"),i=Object.values(s.default.colors);class c{constructor(e,t){this.catname=e,this.catcolor=t,this.errMsg="",this.prevColorIdx=t,this.originalName=e,this.originalColor=t}setName(e){this.catname=e}setColor(e){this.catcolor=e}setPrevColor(e){this.prevColorIdx=e}getName(){return this.catname}getColor(){return this.catcolor}prevColor(){return this.prevColorIdx}setErrMsg(e){this.errMsg=e}getErrMsg(){return this.errMsg}getOriginalName(){return this.originalName}getOriginalColor(){return this.originalColor}}const l=document.querySelector(".category__form"),d=document.querySelector(".category__form-overlay"),u=document.querySelector(".category__form-input"),m=document.querySelector(".color-picker__title"),g=document.querySelector(".color-picker__options"),p=document.querySelector(".ctg-input--err");function h(e,t,o,s){const n=new c(t.name,t.color);function h(e,t){const o=document.createElement("div");return o.classList.add("color-picker--option"),o.style.backgroundColor=e,o.setAttribute("data-color-hex",e),e===t&&(o.append(a),n.setColor(e)),o}function y(t,s){let a=t.trim().replace(/[^a-zA-Z0-9\s]+|\s{2,}/g," ").trim();(0,r.isNumeric)(a)&&(a=`category ${a}`);const i=n.getOriginalName();let c=!1;if(a.length<1?(n.setErrMsg("Category name is required"),c=!0):e.hasCtg(a)&&(!o||o&&i!==a)&&(n.setErrMsg("Category already exists"),c=!0),c)return p.classList.remove("hide-ctg-err"),p.textContent=n.getErrMsg(),void(p.onclick=()=>{p.classList.add("hide-ctg-err"),u.focus()});{if(o){if(i===a&&n.getOriginalColor()===s)return void f();i!==a?e.updateCtg(a,s,n.getName()):e.updateCtgColor(i,s)}else e.addNewCtg(a,s);const t=e.getRenderCategoriesCallback();f(),t()}}function f(){null!==s&&s.removeAttribute("style"),g.innerText="",l.classList.add("hide-ctg-form"),d.classList.add("hide-ctg-form"),u.value="",p.classList.add("hide-ctg-err"),e.removeActiveOverlay("hide-ctg-form"),l.onmousedown=null,d.onclick=null,document.removeEventListener("keydown",v)}function v(e){const t=e.key.toLowerCase();if("escape"===t)return p.classList.contains("hide-ctg-err")?void f():(p.classList.add("hide-ctg-err"),void u.focus());"enter"!==t||y(u.value,n.getColor())}function b(e,t){return e.target.closest(t)}function w(e){const t=b(e,".category__form--cancel"),o=b(e,".color-picker--option"),s=b(e,".category__form--submit");t?f():o?function(e,t){const o=e.target,s=o.getAttribute("data-color-hex");if(s===t)return;document.querySelectorAll(".color-picker--option").forEach((e=>{e.innerText=""})),o.appendChild(a),m.style.background=s,n.setColor(s)}(e,n.getColor()):s&&y(u.value,n.getColor())}var S;S=n.getColor(),g.innerText="",i.forEach((e=>{for(let t=1;t<8;t++)g.append(h(e[t],S))})),function(t){if(e.addActiveOverlay("hide-ctg-form"),d.classList.remove("hide-ctg-form"),l.classList.remove("hide-ctg-form"),l.removeAttribute("style"),null!==s){const e=s.getBoundingClientRect(),t=parseInt(e.right),o=parseInt(e.top),[n,a]=(0,r.placePopup)(280,352,[t-20,o-28],[window.innerWidth,window.innerHeight],!1,null);l.setAttribute("style",`left:${n}px;top:${a}px;`)}else l.setAttribute("style","left:5%;top:5%;right:5%;margin:auto;");p.classList.add("hide-ctg-err"),m.style.backgroundColor=n.getColor(),setTimeout((()=>{t?u.value=n.getName():u.placeholder="Create new category",u.focus()}),4)}(o),l.onmousedown=w,d.onclick=f,document.addEventListener("keydown",v)}},"./src/components/menus/entryOptions.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var s=o("./src/config/setViews.js"),n=o("./src/utilities/helpers.js"),r=o("./src/utilities/dateutils.js");const a=document.querySelector(".entry__options--overlay"),i=document.querySelector(".entry__options"),c=document.querySelector(".entry__options--header"),l=document.querySelector(".entry__options-date"),d=document.querySelector(".entry__options-time"),u=document.querySelector(".eob-title"),m=document.querySelector(".eob-description"),g=document.querySelector(".eob-category--icon"),p=document.querySelector(".eob-category");function h(e,t,o,h,y){function f(){t.getRenderFormCallback()(),y(),w()}function v(){const n=document.createElement("div");n.classList.add("delete-popup");const r=document.createElement("div");r.classList.add("delete-popup__btns");const a=document.createElement("button");a.classList.add("delete-popup__cancel"),a.textContent="Cancel";const c=document.createElement("button");c.classList.add("delete-popup__confirm"),c.textContent="Delete";const l=document.createElement("p");l.classList.add("delete-popup__text"),l.textContent="Are you sure you want to delete this entry?",r.append(a,c),n.append(l,r),i.append(n);const d=()=>{n.remove()};a.onclick=d,c.onclick=()=>{!function(o){t.deleteEntry(o.id),w(),(0,s.default)(e.getComponent(),e,t,h)}(o),d();const n=t.getFormResetHandle(e.getComponent());null!==n&&n()}}function b(){const o=t.getFormResetHandle(e.getComponent());w(),o()}function w(){[l,d,u,m,p].forEach((e=>e.innerText="")),i.classList.add("entry__options--hidden"),a.classList.add("entry__options--hidden"),t.removeActiveOverlay("entry__options--hidden"),m.parentElement.removeAttribute("style"),i.onclick=null,a.onclick=null,c.focus(),document.removeEventListener("keydown",S)}function S(e){const t=document?.querySelector(".delete-popup");if("Escape"===e.key){if(t)return void t.remove();b()}"e"===e.key.toLowerCase()&&f(),"Delete"===e.key&&v()}function C(e){const t=(0,n.getClosest)(e,".eoi__edit"),o=(0,n.getClosest)(e,".eoi__delete"),s=(0,n.getClosest)(e,".eoi__close");t?f():o?v():s&&b()}!function(){i.classList.remove("entry__options--hidden"),a.classList.remove("entry__options--hidden"),t.addActiveOverlay("entry__options--hidden");const[e,s]=[new Date(o.start),new Date(o.end)];let n=!1;(0,r.compareDates)(e,new Date)&&(n=!0);const c=(0,r.formatEntryOptionsDate)(e,s);if(l.textContent=c.date,null!==c.time)if(void 0===c.time){let e,t=(new Date).getTime()-s.getTime(),o=Math.floor(t/864e5);if(0===o){let o=Math.floor(t/36e5),s=Math.floor((t-1e3*o*60*60)/6e4);0===o?e=1===s?`ended ${s} minute ago`:`ended ${s} minutes ago`:1===o?e=`ended ${o} hour ago`:o>1&&(e=`ended ${o} hours ago`)}else e=1===o?"ended yesterday":`ended ${o} days ago`;d.textContent=e}else d.textContent=n?"ending in "+c.time:c.time;u.textContent=o.title,0===o.description.length?m.parentElement.style.display="none":m.textContent=o.description,g.setAttribute("fill",t.getCtgColor(o.category)),p.textContent=o.category,i.onclick=C,a.onclick=b,document.addEventListener("keydown",S)}()}},"./src/components/menus/header.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});var s=o("./src/locales/en.js");function n(e,t,o){let n=new Date;document.querySelector(".btn-today").setAttribute("data-tooltip",`${s.default.labels.weekdaysLong[n.getDay()]}, ${s.default.labels.monthsLong[n.getMonth()]} ${n.getDate()}`);const r=document.querySelector(".datetime-content--title"),a=document.querySelector(".header"),i=document.querySelector(".select__modal"),c=document.querySelector(".prev"),l=document.querySelector(".next"),d=document.querySelector(".h-col-2"),u=document.querySelector(".datetime-content"),m=document.querySelector(".prev-next"),g=(e,t)=>{a.style.borderBottom=e,r.textContent=t,d.classList.remove("datetime-inactive"),d.style.paddingRight="0",u.removeAttribute("style"),m.removeAttribute("style")},p=e=>{"list"!==e&&(c.setAttribute("data-tooltip",`prev ${e}`),l.setAttribute("data-tooltip",`next ${e}`)),i.textContent=e[0].toUpperCase()+e.slice(1),i.setAttribute("data-value",e.slice(0,1).toUpperCase())};switch(t){case"day":g("1px solid transparent",`${e.getMonthName()} ${e.getDay()}, ${e.getYear()}`),p("day");break;case"week":g("1px solid transparent",e.getWeekRange()),p("week");break;case"month":g("1px solid transparent",`${e.getMonthName()} ${e.getYear()}`),p("month");break;case"year":g("1px solid transparent",e.getYear()),p("year");break;case"list":p("list"),a.style.borderBottom="1px solid var(--mediumgrey1)",m.setAttribute("style","pointer-events:none;"),d.classList.add("datetime-inactive")}}},"./src/components/menus/shortcutsModal.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});const s=document.querySelector(".shortcuts-modal-overlay"),n=document.querySelector(".shortcuts__modal"),r=document.querySelector(".shortcuts-modal-content"),a=document.querySelector(".close-shortcuts-modal"),i=document.querySelector(".keyboard-disabled-sm-two");function c(e){function t(e,t){const o=document.createElement("div");o.classList.add("sm-item");const s=document.createElement("div");s.classList.add("sm-key");const n=document.createElement("span");if(Array.isArray(e)){const t=document.createElement("span");t.textContent=" or ";const o=document.createElement("span");n.textContent=e[0].toUpperCase(),o.textContent=e[1].toUpperCase(),s.append(n,t,o)}else"ENTER"!=e&&"ESCAPE"!=e&&"DELETE"!=e||n.classList.add("key-full"),n.textContent=e.toUpperCase(),s.appendChild(n);const r=document.createElement("div");if(r.classList.add("sm-description"),Array.isArray(t)){o.classList.add("sm-item--full"),r.classList.add("sm-description--full");const e=document.createElement("span"),s=document.createElement("span");e.textContent=t[0],s.textContent=t[1],r.append(e,s)}else r.textContent=t;return o.append(s,r),o}function o(){r.innerText="",s.classList.add("hide-shortcuts"),n.classList.add("hide-shortcuts"),e.removeActiveOverlay("hide-shortcuts"),document.removeEventListener("keydown",c)}function c(e){let t=e.key.toLowerCase();"escape"!==t&&"/"!==t&&"?"!==t||o()}function l(e){e?(i.setAttribute("data-tooltip","Keyboard shortcuts enabled"),i.firstElementChild.setAttribute("fill","var(--primary1)")):(i.setAttribute("data-tooltip","Keyboard shortcuts disabled"),i.firstElementChild.setAttribute("fill","var(--red1)"))}!function(){s.classList.remove("hide-shortcuts"),n.classList.remove("hide-shortcuts"),e.addActiveOverlay("hide-shortcuts"),l(e.getShortcutsStatus());const d=e.getShortcuts();for(let e=0;e<Object.values(d).length;e++){const o=Object.values(d)[e];r.appendChild(t(o.shortcut,o.action))}s.onclick=o,a.onclick=o,i.onclick=function(){const t=!1===e.getShortcutsStatus();l(t),e.setShortcutsStatus(t)},document.addEventListener("keydown",c)}()}},"./src/components/menus/sidebarCategories.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>g});var s=o("./src/config/setViews.js"),n=o("./src/components/menus/sidebarDatepicker.js"),r=o("./src/utilities/svgs.js"),a=o("./src/utilities/helpers.js"),i=o("./src/components/menus/editCategory.js");const c=document.querySelector(".sb__categories"),l=document.querySelector(".sb__categories--body"),d=document.querySelector(".sb__categories--body-form"),u=document.querySelector(".sb__categories--header"),m=document.querySelector(".sbch-caret");function g(e,t,o){const g=t.getDefaultCtg()[0];function p(){(0,s.default)(e.getComponent(),e,t,o)}function h(){(0,n.default)(e,t,o)}function y(){d.innerText="";const e=t.getAllCtg(),o=Object.keys(e);for(let t=0;t<o.length;t++){let[s,n,r]=[o[t],e[o[t]].color,e[o[t]].active];f(s,n,r)}}function f(e,t,o){const s=document.createElement("div");s.classList.add("sbch-form--item");const n=document.createElement("div");n.classList.add("sbch-form--item__col");const a=document.createElement("div");a.classList.add("sbch-form--item__checkbox--wrapper");const i=document.createElement("button");let c;i.classList.add("sbch-form--item__checkbox"),i.setAttribute("data-sbch-checked",`${o}`),i.setAttribute("data-sbch-category",e),o?(i.style.backgroundColor=t,c=(0,r.createCheckIcon)("var(--taskcolor0)")):(i.style.backgroundColor="var(--black1)",c=(0,r.createCheckIcon)("none")),i.style.border=`2px solid ${t}`,i.appendChild(c),a.appendChild(i);const l=document.createElement("span");l.classList.add("sbch-form--item__label"),l.textContent=e,n.append(a,l);const u=document.createElement("div");u.classList.add("sbch-form--item__col--actions");const m=document.createElement("button");m.classList.add("sbch-col--actions__delete-icon"),m.setAttribute("data-sbch-category",e),m.setAttribute("data-sbch-color",t);const p=document.createElement("button");p.classList.add("sbch-col--actions__edit-icon"),p.setAttribute("data-sbch-category",e),p.setAttribute("data-sbch-color",t),e.toLowerCase()===g?p.classList.add("sbch-col--actions__edit-icon--immutable"):(m.appendChild((0,r.createCloseIcon)("var(--white2)")),u.appendChild(m)),p.appendChild((0,r.createEditIcon)("var(--white2)")),u.appendChild(p),s.append(n,u),d.appendChild(s)}function v(e){const o=(0,a.getClosest)(e,".sbch-col__one"),s=(0,a.getClosest)(e,".sbch-col--actions__edit-icon"),n=(0,a.getClosest)(e,".sbch-col--actions__delete-icon"),c=(0,a.getClosest)(e,".sbch-form--item__col"),d=(0,a.getClosest)(e,".sbch-plus");if(o)return l.classList.toggle("toggle-category--modal"),l.classList.contains("toggle-category--modal")?m.classList.remove("sbch-caret--open"):m.classList.add("sbch-caret--open"),u.style.backgroundColor="var(--black0)",void setTimeout((()=>{u.style.backgroundColor="var(--black1)"}),200);if(s){const o={name:e.target.getAttribute("data-sbch-category"),color:e.target.getAttribute("data-sbch-color")},s=e.target.parentElement.parentElement;return s.style.borderBottom=`2px solid ${o.color}`,void function(e,o){const[s,n]=o;let[r,c]=(0,a.placePopup)(192,128,[e.clientX,parseInt(n.getBoundingClientRect().top)-8],[window.innerWidth,window.innerHeight],!1,null);const l=document.createElement("div");l.classList.add("popup-ctg-options"),l.style.top=`${c}px`,l.style.left=`${r}px`;const d=document.createElement("div");d.classList.add("popup-ctg-options__overlay"),t.addActiveOverlay("popup-ctg-options__overlay");const u=document.createElement("div");u.classList.add("option__open-ctg-edit"),u.textContent="Edit category (name, color)";const m=document.createElement("div");m.classList.add("option__close-other-ctg"),m.textContent="Display this only";const g=document.createElement("div");function f(e,o){document.querySelector(".popup-ctg-options").remove(),document.querySelector(".popup-ctg-options__overlay").remove(),t.removeActiveOverlay("popup-ctg-options__overlay"),e&&o.removeAttribute("style"),document.removeEventListener("keydown",w)}function v(){h(),p(),y()}function b(){f(!0,n)}function w(e){"Escape"===e.key&&b()}g.classList.add("option__open-other-ctg"),g.textContent="Display all but this",l.append(u,m,g),document.body.prepend(d,l),document.addEventListener("keydown",w),u.onclick=function(e){(0,i.default)(t,s,!0,n),f()},d.onclick=b,m.onclick=function(){t.setAllCategoryStatusExcept(s.name,!1),b(),v()},g.onclick=function(){t.setAllCategoryStatusExcept(s.name,!0),b(),v()}}(e,[o,s])}if(n)!function(e){const o=e.target.getAttribute("data-sbch-category"),s=t.getCtgColor(o),n=s,a=t.getCtgLength(o);let i=!1;const c=document.createElement("aside");c.classList.add("popup-delete-ctg__overlay");const l=document.createElement("aside");l.classList.add("popup-delete-ctg"),0===a&&(i=!0,l.classList.add("popup-delete-ctg__no-entries"));const d=1===a?"entry":"entries",u=document.createElement("div");u.classList.add("popup-delete-ctg__header");const m=document.createElement("div");m.classList.add("popup-delete-ctg__title"),m.style.border=`2px solid ${s}`,m.style.backgroundColor=n,m.textContent=`removing â€“ "${o}"`;const g=document.createElement("div");if(g.classList.add("popup-delete-ctg__stats"),g.textContent=`(${a} total ${d} in this category)`,u.append(m,g),l.appendChild(u),!i){const e=document.createElement("div");e.classList.add("popup-delete-ctg__body");const i=document.createElement("div"),c=t.getAllCtgNames();i.classList.add("popup-delete-ctg__options"),i.classList.add("popup-delete-act"),i.style.backgroundColor=n,i.style.border=`2px solid ${s}`;const u=document.createElement("input");u.setAttribute("type","radio"),u.setAttribute("name","popup-delete-ctg__option"),u.setAttribute("id","ctg-move"),u.setAttribute("checked","true");const m=document.createElement("div"),g=document.createElement("span"),p=document.createElement("select");m.classList.add("popup-delete-ctg__option--move"),g.textContent=`Move "${o}" ${d} to `,p.classList.add("popup-delete-ctg__option--move-select");for(let e=0;e<c.length;e++){if(c[e]===o)continue;const t=document.createElement("option");t.value=c[e],t.textContent=c[e],p.appendChild(t)}m.append(g,p),i.append(u,m);const h=document.createElement("div");h.classList.add("popup-delete-ctg__options"),h.style.border=`2px solid ${s}`;const y=document.createElement("input");y.setAttribute("type","radio"),y.setAttribute("name","popup-delete-ctg__option"),y.setAttribute("id","ctg-delete");const f=document.createElement("div");f.classList.add("popup-delete-ctg__option--remove");const v=document.createElement("span");v.textContent=`Delete "${o}" and ${a} ${d} (irreversible)`;const b=(0,r.createTrashIcon)(s),w=e=>{"ctg-delete"===e.target.id||"ctg-move"===e.target.id||e.target.classList.contains("popup-delete-ctg__option--move")||e.target.classList.contains("popup-delete-ctg__option--move-select")||(e.target.closest(".popup-delete-ctg__options").querySelector("input").checked=!0,document.querySelectorAll(".popup-delete-ctg__options").forEach((e=>{e.setAttribute("style",`background-color: transparent; border: 2px solid ${s};`),e.classList.remove("popup-delete-act")})),e.target.closest(".popup-delete-ctg__options").setAttribute("style",`background-color: ${n}; border: 2px solid ${s};`),e.target.closest(".popup-delete-ctg__options").classList.add("popup-delete-act"))};f.append(v,b),h.append(y,f),e.append(i,h),l.appendChild(e),i.onclick=w,h.onclick=w}const f=document.createElement("div");f.classList.add("popup-delete-ctg__footer");const v=document.createElement("button");v.textContent="cancel",v.classList.add("popup-delete-ctg__btn--cancel"),v.style.backgroundColor=n;const b=document.createElement("button");b.classList.add("popup-delete-ctg__btn--proceed"),b.textContent="proceed",f.append(v,b),l.appendChild(f),document.body.append(c,l),t.addActiveOverlay("popup-delete-ctg__overlay");const w=e=>{"Escape"===e.key&&S()},S=()=>{l.remove(),c.remove(),t.removeActiveOverlay("popup-delete-ctg__overlay"),document.removeEventListener("keydown",w)};b.onclick=()=>{if(i)t.deleteCategory(o);else{const e=document?.querySelector("input[name='popup-delete-ctg__option']:checked").id,s=document.querySelector(".popup-delete-ctg__option--move-select").value;"ctg-move"===e?t.moveCategoryEntriesToNewCategory(o,s):"ctg-delete"===e&&t.removeCategoryAndEntries(o)}S(),p(),h(),y()},c.onclick=S,v.onclick=S,document.addEventListener("keydown",w)}(e);else if(c)!function(e){let o=e.target.children[0].children[0],s=o.getAttribute("data-sbch-checked"),n=o.getAttribute("data-sbch-category"),r=t.getCtgColor(n);"true"===s?(o.setAttribute("data-sbch-checked","false"),t.setCategoryStatus(n,!1),o.style.backgroundColor="var(--black1)",o.firstChild.setAttribute("fill","none")):(o.setAttribute("data-sbch-checked","true"),t.setCategoryStatus(n,!0),o.style.backgroundColor=r,o.firstChild.setAttribute("fill","var(--taskcolor0)")),h(),p()}(e);else if(d){const o={name:"new category",color:"#2C52BA"};(0,i.default)(t,o,!1,e.target)}else;}(()=>{y();t.setRenderCategoriesCallback((()=>{y(),p()})),c.onmousedown=v})()}},"./src/components/menus/sidebarDatepicker.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var s=o("./src/utilities/dateutils.js"),n=o("./src/config/setViews.js"),r=o("./src/utilities/helpers.js");const a=document.querySelector(".datepicker-sidebar"),i=document.querySelector(".sbdatepicker__body--dates"),c=document.querySelector(".sbdatepicker-title"),l=document.querySelector(".sb-datepicker-change-date"),d=document.querySelector(".sb-yearpicker-title"),u=document.querySelectorAll(".sb-monthpicker__month");function m(e,t,o){o.setDate(e.getYear(),e.getMonth(),e.getDay());let m=o.getMonthArray(),g=t.getMonthEntryDates(m),p=e.getWeek(),h=!1,y=0,[f,v]=[null,null];function b(){const e=o.getMonthName(),t=o.getYear();c.textContent=`${e} ${t}`}function w(t){i.innerText="";const n=e.getComponent();for(let r=0;r<t.length;r++){const a=document.createElement("div"),c=document.createElement("div");a.classList.add("sbdatepicker__body--dates-cell"),c.classList.add("sbdatepicker__body--datename"),t[r].getMonth()!==o.getMonth()&&c.classList.add("sbdatepicker__body--datename-disabled"),"week"===n&&p.getDate()===t[r].getDate()&&p.getMonth()===t[r].getMonth()&&p.getFullYear()===t[r].getFullYear()&&(h=!0),h?(y++,y<=7&&a.classList.add("sbdatepicker__body--dates-week")):a.classList.remove("sbdatepicker__body--dates-week"),e.isToday(t[r])&&(c.setAttribute("class","sbdatepicker__body--datename"),c.classList.add("sbdatepicker__body--datename-today")),t[r].getDate()===e.getDateSelected()&&t[r].getMonth()===o.getMonth()&&(c.classList.contains("sbdatepicker__body--datename-today")||(c.setAttribute("class","sbdatepicker__body--datename"),c.classList.add("sbdatepicker__body--datename-selected"))),c.textContent=t[r].getDate();const l=(0,s.getDateForStore)(t[r]);c.setAttribute("data-datepicker-date",l),g.includes(l)?c.classList.contains("sbdatepicker__body--datename-selected")||c.classList.contains("sbdatepicker__body--datename-today")||(c.setAttribute("class","sbdatepicker__body--datename"),c.classList.add("sbdatepicker__body--datename-entries")):c.classList.remove("sbdatepicker__body--datename-entries"),a.appendChild(c),i.appendChild(a)}}function S(){m=o.getMonthArray(),g=t.getMonthEntryDates(m),p=e.getWeek(),y=0,h=!1}function C(s,r,a){e.setDate(s,r,a),e.setDateSelected(a),o.setDate(s,r,a),(0,n.default)(e.getComponent(),e,t,o),S(),w(m),b(),m=[]}function x(t,o){e.setDateSelected(o);document.querySelectorAll(".sbdatepicker__body--datename-selected").forEach((e=>{e.classList.remove("sbdatepicker__body--datename-selected")})),t.target.setAttribute("class","sbdatepicker__body--datename"),t.target.classList.add("sbdatepicker__body--datename-selected")}function k(t){const o=t.target;let[s,n,r]=o.getAttribute("data-datepicker-date").split("-").map((e=>parseInt(e)));const a=e.getComponent();if("list"!==a)return"year"===a?e.getYear()!==s?void C(s,n,r):void x(t,r):"month"===a?e.getMonth()!==n?void C(s,n,r):void x(t,r):"week"===a?t.target.parentElement.classList.contains("sbdatepicker__body--dates-week")?void x(t,r):void C(s,n,r):"day"===a?e.isToday(new Date(s,n,r))?void x(t,r):void C(s,n,r):void 0;x(t,r)}function D(){f=o.getMonth(),v=o.getYear(),l.classList.add("show-sbdpcd"),A(null,!0),_(o.getMonth(),!0)}function L(){f===o.getMonth()&&v===o.getYear()||(S(),w(m),b(),m=[]),l.classList.remove("show-sbdpcd")}function _(e,t){const s=e;(t||s!==o.getMonth())&&(o.setMonth(s),u.forEach(((e,t)=>{t===s?e.classList.add("monthpicker__active-month"):e.classList.remove("monthpicker__active-month")})))}function A(e,t){if(t)return void(d.textContent=o.getYear());const s=parseInt(o.getYear())+e;s!=+o.getYear()&&(o.setYear(s),d.textContent=s)}function E(e){const t=(0,r.getClosest)(e,".sbdatepicker__body--datename"),s=(0,r.getClosest)(e,".sbdatepicker-nav--next"),n=(0,r.getClosest)(e,".sbdatepicker-nav--prev"),a=(0,r.getClosest)(e,".sbdatepicker-title"),i=(0,r.getClosest)(e,".sb-close-change-date"),c=(0,r.getClosest)(e,".sb-yearpicker-next"),l=(0,r.getClosest)(e,".sb-yearpicker-prev"),d=(0,r.getClosest)(e,".sb-monthpicker__month");if(t)k(e);else{if(s)return o.setNextMonth(),S(),w(m),b(),void(m=[]);if(n)return o.setPrevMonth(),S(),w(m),b(),void(m=[]);if(t)k(e);else if(a)D();else if(i)L();else if(c)A(1,!1);else if(l)A(-1,!1);else if(d){_(parseInt(e.target.getAttribute("data-sbdp-month")),!1)}else;}}l.classList.remove("show-sbdpcd"),b(),w(m),a.onclick=E,m=null,g=null}},"./src/components/menus/sidebarFooter.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var s=o("./src/utilities/helpers.js");const n=document.querySelector(".sb__info"),r=document.querySelector(".sb__info-popup"),a=document.querySelector(".sb__info-popup-overlay"),i=document.querySelector(".select-popup-info"),c=document.querySelector(".close-sb-info"),l=document.querySelector(".sbip-title"),d=document.querySelector(".sbip-content");function u(e){const t={notes:{title:"Breakdown of project & current status",content:"These are my project notes"},privacy:{title:"Cookies and Data Privacy",content:"This project uses an open source license"},terms:{title:"Code license and terms of use",content:"All data is stored locally meaning no data is sent to a server."}};function o(){e.removeActiveOverlay("hide-sb-info-popup"),r.classList.add("hide-sb-info-popup"),a.classList.add("hide-sb-info-popup"),document.removeEventListener("keydown",g),a.onclick=null,c.onclick=null}function u(e){l.innerText=t[e].title,d.innerText=t[e].content}function m(e){u(e.target.value)}function g(e){"Escape"===e.key&&o()}function p(t){const s=["notes","privacy","terms"].indexOf(t);i.selectedIndex=s,e.addActiveOverlay("hide-sb-info-popup"),r.classList.remove("hide-sb-info-popup"),a.classList.remove("hide-sb-info-popup"),u(i.value),i.onchange=m,a.onclick=o,c.onclick=o,document.addEventListener("keydown",g)}n.onmousedown=function(e){const t=(0,s.getClosest)(e,".sb__project-notes"),o=(0,s.getClosest)(e,".sb__privacy"),n=(0,s.getClosest)(e,".sb__terms");t?p("notes"):o?p("privacy"):n&&p("terms")}}},"./src/components/menus/sidebarSubMenu.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var s=o("./src/utilities/helpers.js"),n=o("./src/utilities/dateutils.js"),r=o("./src/components/menus/shortcutsModal.js");const a=document.querySelector(".sidebar-sub-menu__overlay"),i=document.querySelector(".sidebar-sub-menu"),c=(document.querySelector(".close-sub-menu"),"hide-sidebar-sub-menu"),l=document.querySelector(".body"),d=document.querySelectorAll(".theme-radio__input"),u=["dark","light","contrast"],m=document.querySelector(".smia-toggle-shortcuts-checkbox"),g=document.querySelector(".smdt-toggle-checkbox"),p=document.querySelector(".keyboard-disabled-sm");function h(e,t){function o(e){const t=document.querySelector(".sb-sub-popup-confirm");if("Escape"===e.key){if(t)return t.remove(),void a.classList.remove("sub-overlay-vis");h(),a.classList.remove("sub-overlay-vis")}if("a"===e.key.toLowerCase()){if(t)return;h()}}function h(){const t=document.querySelector(".sb-sub-popup-confirm");if(t)return t.remove(),void a.classList.remove("sub-overlay-vis");e.removeActiveOverlay(c),i.classList.add(c),a.classList.add(c),document.removeEventListener("keydown",o),a.onclick=null}function y(e){e?(p.setAttribute("data-tooltip","Keyboard shortcuts enabled"),p.firstElementChild.setAttribute("fill","var(--primary1)")):(p.setAttribute("data-tooltip","Keyboard shortcuts disabled"),p.firstElementChild.setAttribute("fill","var(--red1)"))}function f(t){const o=document.createElement("input");o.type="file",o.accept="application/json",o.onchange=t=>{const o=t.target.files[0],s=new FileReader;s.onload=t=>{const o=JSON.parse(t.target.result);e.setUserUpload(o),h()},s.readAsText(o),s=null},document.body.appendChild(o),o.click(),document.body.removeChild(o),h()}function v(){a.classList.remove("sub-overlay-vis");const e=document.querySelector(".sb-sub-popup-confirm");e&&e.remove()}function b(t){if("download"!==t){if("upload"===t){const t=function(){const t=document.createElement("div");t.classList.add("sb-sub-popup-confirm");const[o,s]=e.getStoreStats();let n,[r,a]=[!1,!1];o>0&&(r=`Overwriting ${o} entries`),s>1&&(a=2===s?"1 category.":+s-1+" categories."),n=r&&a?`${r} and ${a}`:r&&!a?`${r}.`:!r&&a?`No entries. Overwriting ${a}`:"Current calendar has no entries or categories.";const i=document.createElement("div");i.classList.add("sb-sub-popup-subtitle"),i.textContent=n;const c=document.createElement("div");c.classList.add("sb-sub-popup-subtitle"),c.textContent="This action is irreversible.";const l=document.createElement("div");l.classList.add("sb-sub-popup-title"),l.textContent='Please ensure you have a valid backup before proceeding. Use the "validate .json" button next to "upload .json" to check that everything is in order.';const d=document.createElement("div");d.classList.add("sb-sub-popup-btns");const u=document.createElement("button");u.classList.add("sb-sub-popup-btn--cancel"),u.textContent="Cancel";const m=document.createElement("button");return m.classList.add("sb-sub-popup-btn--proceed"),m.textContent="Proceed",d.append(u,m),console.log(t),t.append(i,c,l,d),t}();document.body.appendChild(t),a.classList.add("sub-overlay-vis");const o=t.querySelector(".sb-sub-popup-btn--cancel"),s=t.querySelector(".sb-sub-popup-btn--proceed");o.onclick=v,s.onclick=f}}else!function(){const t=JSON.stringify(localStorage),[o,s]=e.getStoreStats(),r=`ENT_${o}_CAT_${s}_${(0,n.createTimestamp)()}`,a=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(a),c=document.createElement("a");c.href=i,c.download=r+".json",document.body.appendChild(c),c.click(),URL.revokeObjectURL(i),document.body.removeChild(c)}()}function w(){const t=!m.checked;e.setShortcutsStatus(t),y(t)}function S(){let t=e.getShortcutsStatus();t=!t,e.setShortcutsStatus(t),y(t),m.checked=!!t}function C(e){const t=document.querySelector(".toggle-animations-icon__sm"),o={on:document.querySelector(".tai-on"),off:document.querySelector(".tai-off")};e?(o.on.classList.remove("hide-tai"),o.off.classList.add("hide-tai"),t.setAttribute("data-tooltip","Animations Enabled")):(o.on.classList.add("hide-tai"),o.off.classList.remove("hide-tai"),t.setAttribute("data-tooltip","Animations Disabled"))}function x(t){const o=!g.checked;e.setAnimationStatus(o),C(o),t&&(g.checked=!!o),o?l.classList.remove("disable-transitions"):l.classList.add("disable-transitions")}function k(o){const n=(0,s.getClosest)(o,".down-json"),a=(0,s.getClosest)(o,".upload-json"),i=(0,s.getClosest)(o,".theme-option"),c=(0,s.getClosest)(o,".toggle-kb-shortcuts-btn__smia"),l=(0,s.getClosest)(o,".smia-disable-shortcuts__btn"),d=(0,s.getClosest)(o,".keyboard-disabled-sm"),u=(0,s.getClosest)(o,".smdt-toggle"),m=(0,s.getClosest)(o,".toggle-animations-icon__sm"),g=(0,s.getClosest)(o,".close-sub-menu");if(n)b("download");else if(a)b("upload");else{if(!i)return c?(h(),void(0,r.default)(e)):void(l?w():d?S():u?x():m?x(!0):g&&h());!function(e){const o=e.target.firstElementChild,n=o.value;o.checked=!0,n!==t.getColorScheme()&&(t.setColorScheme(n),(0,s.setTheme)(t))}(o)}}!function(){const s=u.indexOf(t.getColorScheme());d[s].checked=!0;const n=e.getShortcutsStatus();y(n),m.checked=n;const r=e.getAnimationStatus();C(r),g.checked=r,e.addActiveOverlay(c),i.classList.remove(c),a.classList.remove(c),document.addEventListener("keydown",o),a.onclick=h}(),i.onmousedown=k}},"./src/components/toastPopups/toast.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var s=o("./src/utilities/svgs.js"),n=o("./src/utilities/helpers.js"),r=o("./src/context/store.js");document.querySelector(".body");const a=document.querySelector(".toast");function i(e,t){function o(){a.classList.remove("show-toast"),a.innerText="",document.onmousedown=null,document.onkeydown=null,r.default.removeActiveOverlay("toast")}!function(){a.innerText="";const i=document.createElement("div");i.classList.add("toast-message"),i.textContent=e;const c=document.createElement("div");c.classList.add("close-toast-icon-wrapper"),c.appendChild((0,s.createCloseIcon)("var(--white4)"));const l=document.createElement("div");l.classList.add("undo-toast-wrapper");const d=document.createElement("div");d.classList.add("undo-toast-message"),d.textContent="Undo",l.appendChild(d),a.append(i,l,c),a.classList.add("show-toast"),r.default.addActiveOverlay("toast"),document.onkeydown=function(e){e.key&&o()},document.onmousedown=function(e){if(!(0,n.getClosest)(e,".toast"))return void o();const s=(0,n.getClosest)(e,".undo-toast-wrapper"),r=(0,n.getClosest)(e,".close-toast-icon-wrapper");if(s)return t(),void o();r&&o()}}()}},"./src/components/views/dayview.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var s=o("./src/components/forms/formUtils.js"),n=o("./src/components/forms/setForm.js"),r=o("./src/components/menus/entryOptions.js"),a=o("./src/factory/entries.js"),i=o("./src/utilities/timeutils.js"),c=o("./src/utilities/dateutils.js"),l=o("./src/utilities/svgs.js"),d=o("./src/utilities/dragutils.js"),u=o("./src/utilities/helpers.js"),m=o("./src/locales/en.js");const g=document.querySelector(".dayview--header-day__title"),p=document.querySelector(".dayview--header-day__number"),h=document.querySelector(".dayview--header-day__info"),y=document.querySelector(".dayview--ontop-container"),f=document.querySelector(".calendar__dayview"),v=document.querySelector(".dayview__grid"),b=document.querySelector(".dayview--main-grid"),w=document.querySelector(".dayview--side-grid");function S(e,t,o){let S=null,C=null,x=null;function k(e){let t=0,o=100;for(let s=0;s<e.length;s++){let[n,r]=[e[s].coordinates.y,e[s].coordinates.e];r>t&&(t=r),n<o&&(o=n)}let[s,n]=[Math.floor(o/4),Math.floor(t/4)],[r,a]=[o%4*15,t%4*15],[i,l]=[new Date(e[0].start),new Date(e[0].start)];return i.setHours(s),i.setMinutes(r),l.setHours(n),l.setMinutes(a),(0,c.formatStartEndTime)(i,l)}function D(){[g,p,h].forEach((e=>{e.innerText=""}));let t=(new Date).getTimezoneOffset()/60;t<0&&(t=`+${Math.abs(t)}`),document.querySelector(".dv-gmt").textContent=`UTC ${e.getGmt()}`;let o=e.getDay();p.textContent=o,e.isToday()?(p.classList.add("dayview--header-day__number--today"),g.style.color="var(--primary1)"):(p.classList.remove("dayview--header-day__number--today"),g.removeAttribute("style")),g.textContent=m.default.labels.weekdaysShort[e.getWeekday()].toUpperCase(),h.textContent=function(){let t=C.getAllBoxes();if(0===t.length)return"no entries";let o,[s,n]=[0,0];for(let r=0;r<t.length;r++){const[a,i,c]=[new Date(t[r].start),new Date(t[r].end),e.getDate()];a.getDate()===c.getDate()&&n++,i.getDate()===c.getDate()&&(s++,o=t[r])}if(1===n&&1===s)return`1 entry ( ${(0,c.formatStartEndTime)(new Date(t[0].start),new Date(t[0].end))} )`;if(n>1&&n===s)return`${n} entries starting & ending today ( ${k(C.boxes)} )`;let r="";return r+=n>0?1===n?`${n} entry starting today`:`${n} entries started`:"no entries started",r+=s>0?1===s?` â€“ ${s} ending ( ${(0,c.formatStartEndTime)(new Date(o.start),new Date(o.end))} )`:` â€“ ${s} ending ( ${k(C.boxes)} )`:" â€“ no entries ending today",r}()}function L(){b.innerText="",y.innerText="",w.innerText="",h.innerText="",f.onmousedown=null,S=null,C=null,x=null}function _(e){t.addActiveOverlay("morepopup");const o=document.createElement("aside");o.classList.add("dv--morepopup__overlay");const s=document.createElement("aside");s.classList.add("dv--morepopup"),s.style.left=`${y.offsetLeft}px`,s.style.top=`${y.offsetTop}px`;const n=document.createElement("div");n.classList.add("dv--morepopup__header");const r=document.createElement("span");r.classList.add("dv--morepopup__title"),r.textContent="Events spanning multiple days";const a=document.createElement("span");a.classList.add("dv--morepopup__close"),a.appendChild((0,l.createCloseIcon)("var(--white3)")),n.append(r,a);const i=document.createElement("div");i.classList.add("dv--morepopup__body");e.forEach((e=>{const o=(e=>{const o=document.createElement("div");o.classList.add("dv--morepopup__entry"),o.style.backgroundColor=`${t.getCtgColor(e.category)}`,o.setAttribute("data-sdvt-id",e.id);const s=document.createElement("span");s.classList.add("dv--morepopup__entry-title"),s.textContent=e.title;const n=document.createElement("span");n.classList.add("dv--morepopup__entry-category"),n.textContent=e.category;const r=document.createElement("span");return r.classList.add("dv--morepopup__entry-time"),r.textContent=(0,c.formatEntryOptionsDate)(new Date(e.start),new Date(e.end)).date,o.append(s,n,r),o})(e);i.appendChild(o)}));const d=()=>{o.remove(),s.remove(),t.removeActiveOverlay("morepopup"),document.removeEventListener("keydown",m),o.onclick=null,a.onclick=null,i.onclick=null},m=e=>{"Escape"!==e.key||d()};s.append(n,i),document.body.prepend(o,s),o.onclick=d,a.onclick=d,i.onclick=function(e){(0,u.getClosest)(e,".dv--morepopup__entry")&&A(e,d)},document.addEventListener("keydown",m)}function A(a,i){const l=a.target,d=l.getAttribute("data-sdvt-id"),m=t.getEntry(d),g=m.start,p=t.getCtgColor(m.category),h=l.getBoundingClientRect();let[y,f]=(0,u.placePopup)(400,165,[parseInt(h.left),parseInt(h.top)+24],[window.innerWidth,window.innerHeight],!1);i?t.setFormResetHandle("day",i):t.setFormResetHandle("day",(()=>{console.log("reset")}));const v=new n.default;v.setSubmission("edit",d,m.title,m.description),v.setCategory(m.category,p),v.setDates((0,c.getFormDateObject)(g,m.end)),s.default.setFormDatepickerDate(e,o,g);(0,r.default)(e,t,m,o,(()=>s.default.getConfig(v.getSetup())));const b=document.querySelector(".entry__options");b.style.top=+f+"px",b.style.left=+y+"px"}function E(e){if(document.createElement("div").classList.add("dv--ontop__grid"),e.length>6){const t=document.createElement("div");return t.classList.add("dv--ontop__more"),t.textContent=`${e.length} more...`,void y.appendChild(t)}!function(e){const o=document.createElement("div");o.classList.add("dayview--ontop__grid"),e.forEach((e=>{const s=document.createElement("div");s.classList.add("dayview--ontop__grid-item"),s.textContent=e.title,s.style.backgroundColor=t.getCtgColor(e.category),s.setAttribute("data-sdvt-id",e.id),o.appendChild(s)})),y.appendChild(o)}(e)}function M(){document.querySelector(".dayview-temp-box")?.remove()}function $(r){(0,d.setStylingForEvent)("dragstart",v,t),document.body.style.cursor="move";const[a,l]=t.getFirstActiveCategoryKeyPair(),u=document.createElement("div");u.setAttribute("class","dv-box dv-box-dragging dayview-temp-box");const m=(0,d.createTempBoxHeader)("day"),g=document.createElement("div"),p=document.createElement("span"),h=document.createElement("span");g.classList.add("dv-box__content"),p.classList.add("dv-box-time"),h.classList.add("dv-box-time");const y=parseInt(v.offsetTop),f=parseInt(v.scrollTop),b=r.pageY-y;let w=12.5*Math.round((b+Math.abs(f))/12.5);u.setAttribute("style",(0,d.getBoxDefaultStyle)(w,l));let S={y:+w/12.5,x:1,h:1,e:2},[C,x,k,D]=(0,d.startEndDefault)(w),L=0;function _(e){L+=e.movementY;let t=12.5*Math.round((e.pageY+f-w-y)/12.5);t<=12.5&&(t=12.5),t+w>1188&&(t=1187.5-w),u.style.height=`${t}px`,S.h=+t/12.5,S.e=+S.y+S.h,k=(0,d.calcNewHourFromCoords)(t,w),D=(0,d.calcNewMinuteFromCoords)(t,w),p.style.wordBreak="break-word",p.textContent=`${(0,i.formatTime)(C,x)} â€“ `,h.textContent=`${(0,i.formatTime)(k,D)}`}g.append(p,h),u.append(m,g),r.target.appendChild(u),document.addEventListener("mousemove",_),document.addEventListener("mouseup",(function r(){L<=20&&(+S.y>=92?(S.y=92,S.e=95,S.h=3,u.style.height="37.5px",u.style.top="1150px",[C,x]=[23,0],[k,D]=[23,45],p.textContent=`${(0,i.formatTime)(C,x)} â€“ `,h.textContent=`${(0,i.formatTime)(k,D)}`):(S.y=4*C,S.e=+S.y+4,S.h=4,u.style.height="50px",u.style.top=12.5*+S.y+"px",[C,x]=[C,0],[k,D]=[C+1,0],p.textContent=`${(0,i.formatTime)(C,x)} â€“ `,h.textContent=`${(0,i.formatTime)(k,D)}`));const m=(0,c.getTempDates)(new Date(e.getDate()),[C,k],[x,D]);!function(r,a,i,l){t.setFormResetHandle("day",M);const d=t.getRenderFormCallback(),u=new n.default,[m,g,p,h]=l;u.setSubmission(m,g,p,h),"create"===m&&(r.style.opacity=.9);const[y,f]=a;u.setCategory(y,f);const[v,b]=i;u.setDates((0,c.getFormDateObject)(v,b)),d(),s.default.setFormDatepickerDate(e,o,v),s.default.getConfig(u.getSetup())}(u,[a,l],m,["create",null,null,null]),(0,d.setStylingForEvent)("dragend",v,t),document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",_)}))}function q(){b.innerText="",y.innerText="",E(C.getBoxesTop()),C.getBoxes().forEach((e=>{const o=e.coordinates.y;(null==x||o<x)&&(x=o),(0,d.createBox)(b,e,"day",t.getCtgColor(e.category))})),(0,d.default)(null,"day",C)}function T(a){const l=(0,u.getClosest)(a,".dv-box-resize-s"),m=(0,u.getClosest)(a,".dv-box"),g=(0,u.getClosest)(a,".dayview--main-grid"),p=(0,u.getClosest)(a,".dayview--ontop__grid-item"),h=(0,u.getClosest)(a,".dv--ontop__more");l?function(e,o){(0,d.setStylingForEvent)("dragstart",v,t),document.body.style.cursor="move";const s=o.parentElement;let n=!1;const r=(0,d.getOriginalBoxObject)(o);o.classList.contains("dv-box-ontop")&&(n=!0,(0,d.resetStyleOnClick)("day",o)),o.classList.add("dv-box-resizing");const a=o.offsetTop,c=parseInt(v.offsetTop);(0,d.createTemporaryBox)(o,s,n,"day");let l=parseInt(v.scrollTop);const u=e=>{let t=12.5*Math.round((e.pageY+l-a-c)/12.5);t<=12.5?o.style.height="12.5px":t+a>1188||(o.style.height=`${t}px`)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function e(){if(document.querySelector(".dv-temporary-box").remove(),o.classList.remove("dv-box-resizing"),n&&o.classList.add("dv-box-ontop"),r.height===o.offsetHeight)(0,d.resetOriginalBox)(o,r);else{(0,d.setBoxTimeAttributes)(o,"day");const e=+o.getAttribute("data-dv-start-time"),s=+o.getAttribute("data-dv-time-intervals"),n=(0,i.default)(e,s);o.setAttribute("data-dv-time",n),o.firstChild.nextSibling.firstElementChild.textContent=n,(0,d.updateBoxCoordinates)(o,"day",C),C.updateStore(t,o.getAttribute("data-dv-box-id")),C.getBoxes().length>1?(0,d.default)(null,"day",C):o.setAttribute("data-dv-box-index","box-one")}D(),(0,d.setStylingForEvent)("dragend",v,t),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)}))}(0,a.target.parentElement):m?function(a,l){(0,d.setStylingForEvent)("dragstart",v,t);const m=l.parentElement;let g=!1;const p=+l.style.top.split("px")[0],h=+l.style.height.split("px")[0],y=a.pageY-parseInt(v.offsetTop),f=+v.getBoundingClientRect().top.toFixed(2);let[b,w]=[a.pageX,a.pageY],[S,x]=[0,0],k=!1;const L=e=>{S=Math.abs(e.clientX-b),x=Math.abs(e.clientY-w),k||(S>3||x>3)&&(k=!0,document.body.style.cursor="move",l.classList.contains("dv-box-ontop")&&(g=!0,(0,d.resetStyleOnClick)("day",l)),l.classList.add("dv-box-dragging"),(0,d.createTemporaryBox)(l,m,g,"day"),S=0,x=0);const t=e.pageY-f;let o=t-y,s=12.5*Math.round((o+p)/12.5);s<0||t<0?s=0:s+h>1188||(l.style.top=`${s}px`)},_=()=>{const a=document?.querySelector(".dv-temporary-box");if(null===a){const a=()=>{(0,d.setStylingForEvent)("dragend",v,t),l.classList.remove("dv-box-clicked")};l.classList.add("dv-box-clicked");const i=l.getAttribute("data-dv-box-id"),m=t.getEntry(i),g=m.start,p=l.style.backgroundColor,h=l.getBoundingClientRect();let[y,f]=(0,u.placePopup)(400,165,[parseInt(h.left)+32,parseInt(h.top)+32],[window.innerWidth,window.innerHeight],!1);t.setFormResetHandle("day",a);const b=new n.default;b.setSubmission("edit",i,m.title,m.description),b.setCategory(m.category,p),b.setDates((0,c.getFormDateObject)(g,m.end)),s.default.setFormDatepickerDate(e,o,g);const w=()=>s.default.getConfig(b.getSetup());(0,r.default)(e,t,m,o,w);const S=document.querySelector(".entry__options");window.innerWidth>580?(S.style.top=+f+"px",S.style.left=y+"px"):S.style.top="64px"}else{a.remove(),l.classList.remove("dv-box-dragging"),g&&l.classList.add("dv-box-ontop"),(0,d.setBoxTimeAttributes)(l,"day");const e=+l.getAttribute("data-dv-start-time"),o=+l.getAttribute("data-dv-time-intervals"),s=(0,i.default)(e,o);l.setAttribute("data-dv-time",s),l.children[1].children[0].textContent=s,(0,d.updateBoxCoordinates)(l,"day",C),C.updateStore(t,l.getAttribute("data-dv-box-id")),C.getBoxes().length>1?(0,d.default)(null,"day",C):l.setAttribute("data-dv-box-index","box-one"),D(),(0,d.setStylingForEvent)("dragend",v,t)}document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",_)}(a,a.target):g?$(a,a.target):p?A(a):h&&_(C.getBoxesTop())}w.innerText="",function(){for(let e=0;e<24;e++){let t,o;0===e?(t="",o=""):(t=e,o="AM"),t>12&&(t-=12),e>=12&&(o="PM");const s=document.createElement("span");s.classList.add("dv-sidegrid--cell"),s.textContent=`${t} ${o}`,w.appendChild(s)}}(),S=t.getDayEntries(e.getDate()),C=new a.Day(S.day,S.allDay),q(),D(),f.onmousedown=T,t.setResetPreviousViewCallback(L),function(){if(null!==x){let e=12.5*+x;setTimeout((()=>{v.scrollTo({top:e,behavior:"instant"})}),4)}else{const e=50*(new Date).getHours();setTimeout((()=>{v.scrollTo({top:e-25<=0?0:e-25,behavior:"instant"})}),4)}}()}},"./src/components/views/listview.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>p});var s=o("./src/components/menus/entryOptions.js"),n=o("./src/config/setViews.js"),r=o("./src/components/forms/setForm.js"),a=o("./src/components/forms/formUtils.js"),i=o("./src/utilities/helpers.js"),c=o("./src/utilities/dateutils.js"),l=o("./src/utilities/timeutils.js"),d=o("./src/locales/en.js");const u=document.querySelector(".datetime-content--title"),m=document.querySelector(".listview"),g=document.querySelector(".listview__body");function p(e,t,o){let p=d.default.labels.monthsShort.map((e=>e.toUpperCase())),h=d.default.labels.weekdaysShort.map((e=>e.toUpperCase())),[y,f,v]=(0,c.getdatearray)(new Date);function b(e,t,o,s,n){const r=document.createElement("div");r.classList.add("rowgroup-header");const a=document.createElement("div");a.classList.add("rowgroup--header__datenumber"),a.textContent=o,a.setAttribute("data-rgheader-date",s);const i=document.createElement("div");return i.classList.add("rowgroup--header__monthdow"),i.textContent=`${t}, ${e}`,n&&(a.classList.add("top-datenumber"),i.classList.add("top-monthdow")),r.append(a,i),r}function w(e){const o=t.getCtgColor(e.category),[s,n]=[new Date(e.start),new Date(e.end)];let r;if((0,c.longerThanDay)(s,n)){let e;s.getFullYear()!==n.getFullYear()&&(e=+n.getFullYear()-2e3),r=`${p[n.getMonth()]} ${n.getDate()} ${e||""}`}else r=`${(0,l.formatStartEndTimes)([s.getHours(),n.getHours()],[s.getMinutes(),n.getMinutes()])}`;const a=document.createElement("div");a.classList.add("rowgroup--cell"),a.setAttribute("data-rgcell-id",e.id);const i=document.createElement("div");i.classList.add("rowgroup--cell__color"),i.style.backgroundColor=o;const d=document.createElement("div");d.classList.add("rowgroup--cell__time"),d.textContent=r;const u=document.createElement("div");return u.classList.add("rowgroup--cell__title"),u.textContent=e.title,a.append(i,d,u),a}function S(){const e=document?.querySelector(".rowgroup--cell-active");e&&(e.classList.remove("rowgroup--cell-active"),e.removeAttribute("style"))}function C(l){const d=(0,i.getClosest)(l,".rowgroup--header__datenumber"),u=(0,i.getClosest)(l,".rowgroup--cell");d?function(s){let[r,a,i]=(0,c.getDateFromAttribute)(s,"data-rgheader-date","month");e.setDate(r,a,i),e.setDateSelected(i),"open"===e.getSidebarState()&&(o.setDate(r,a,i),o.setDateSelected(i)),e.setComponent("day"),(0,n.default)("day",e,t,o)}(l.target):u&&function(n){console.log(n);const l=n.getAttribute("data-rgcell-id");n.classList.add("rowgroup--cell-active");const d=t.getEntry(l),u=d.start,m=t.getCtgColor(d.category);n.style.backgroundColor=(0,i.hextorgba)(m,.7);const g=n.getBoundingClientRect(),p=n.offsetHeight,h=parseInt(g.top)+p,y=parseInt(g.left);let f=h+12;h+165>window.innerHeight&&(f=h-165-p-12);let v=y;y+150>window.innerWidth&&(v=window.innerWidth-150),t.setFormResetHandle("list",S);const b=new r.default;b.setSubmission("edit",l,d.title,d.description),b.setCategory(d.category,m),b.setDates((0,c.getFormDateObject)(u,d.end)),a.default.setFormDatepickerDate(e,o,u),(0,s.default)(e,t,d,o,(()=>a.default.getConfig(b.getSetup())));const w=document.querySelector(".entry__options");w.style.top=f+"px",w.style.left=v+"px"}(u)}function x(){g.innerText="",m.onclick=null,p=null,h=null}(()=>{g.innerText="",t.setResetPreviousViewCallback(x);let s=t.getActiveEntries();if(0!==s.length){let n=t.sortBy(s,"start","desc"),r=n.reduce(((e,t)=>{const o=new Date(t.start),[s,n,r]=(0,c.getdatearray)(o),a=`${s}-${n}-${r}`;if(s<y)return e;if(s===y){if(n<f)return e;if(n===f&&r<v)return e}return e[a]||(e[a]=[]),e[a].push(t),e}),{}),a=Object.keys(r);const i=a.length;if(0===i)u.textContent="Schedule Clear";else{const t=new Date(a[0].split("-").map((e=>parseInt(e))));e.setDate(t.getFullYear(),t.getMonth(),t.getDate()),e.setDateSelected(t.getDate()),"open"===e.getSidebarState&&(o.setDate(t.getFullYear(),t.getMonth(),t.getDate()),o.setDateSelected(t.getDate())),u.textContent=(0,c.formatStartEndDate)(a[0],a[i-1],!0)}!function(e){let t=1;for(let[o,s]of Object.entries(e)){const e=new Date(o.split("-").map((e=>parseInt(e,10)))),[n,r,a]=[e.getMonth(),e.getDate(),e.getDay()],[i,c]=[h[a],p[n]],l=b(i,c,r,o,1===t);t=null,s.length>1&&s.sort(((e,t)=>new Date(e.end)-new Date(t.end)));const d=document.createElement("div");d.classList.add("rowgroup-content"),s.forEach((e=>{d.append(w(e))}));const u=document.createElement("div");u.classList.add("listview__rowgroup"),u.append(l,d),g.appendChild(u)}}(r),m.onclick=C,s=null,n=null,r=null,a=null}else u.textContent="No Entries to Display"})()}},"./src/components/views/monthview.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var s=o("./src/config/setViews.js"),n=o("./src/components/menus/sidebarDatepicker.js"),r=o("./src/components/forms/formUtils.js"),a=o("./src/components/forms/setForm.js"),i=o("./src/components/menus/entryOptions.js"),c=o("./src/factory/queries.js"),l=o("./src/utilities/dateutils.js"),d=o("./src/utilities/svgs.js"),u=o("./src/utilities/helpers.js"),m=o("./src/utilities/dragutils.js"),g=o("./src/locales/en.js");const p=document.querySelector(".resize-overlay"),h=document.querySelector(".sidebar"),y=document.querySelector(".monthview--calendar");function f(e,t,o){const f=new c.default(window.innerWidth<=530||window.innerHeight<=470);function v(){h.classList.contains("hide-sidebar")||(o.setDate(e.getYear(),e.getMonth(),e.getDay()),e.setDateSelected(e.getDay()),(0,n.default)(e,t,o))}function b(e){"hide"===e?(p.classList.add("hide-resize-overlay"),t.removeActiveOverlay("hide-resize-overlay")):(p.classList.remove("hide-resize-overlay"),t.addActiveOverlay("hide-resize-overlay"))}function w(){e.setComponent("day"),(0,s.default)("day",e,t,o),v()}function S(e,o,s,n){const r=document.createElement("div");r.classList.add("monthview--box"),r.setAttribute("data-monthview-id",e),r.style.backgroundColor=t.getCtgColor(o),r.style.top=`${s}px`,r.style.height=`${f.getHeight()}px`,r.style.width="100%";const a=document.createElement("div");return a.classList.add("monthview--title"),a.textContent=n,r.appendChild(a),r}function C(t,o,s,n){const r=[+t.getDay(),Math.floor(o/7)],a=document.createElement("div");a.classList.add("monthview--day"),a.setAttribute("data-mv-date",n),a.setAttribute("data-mv-idx",o),a.setAttribute("data-mv-coordinates",r);const i=document.createElement("button");i.classList.add("monthview--dayofmonth");const c=document.createElement("div");c.classList.add("monthview--daycontent"),t.getMonth()===e.getMonth()&&t.getDate()===e.getDateSelected()&&i.classList.add("monthview--dayofmonth-selected"),i.appendChild(function(t,o){const s=o.getDate()+" "+g.default.labels.monthsShort[o.getMonth()],n=document.createElement("span");return n.classList.add("monthview--daynumber"),o.getMonth()!==e.getMonth()?(n.textContent=s,n.classList.add("monthview--daynumber-prevnext")):1===o.getDate()?n.textContent=s:e.isToday(o)?(n.textContent=o.getDate(),n.classList.add("monthview--daynumber-today"),t.classList.add("monthview--today")):n.textContent=o.getDate(),n}(a,t));let d=0;void 0!==s&&s.length>0&&((s=s.filter((e=>new Date(e.start).getMonth()===t.getMonth()))).length>=6?(c.appendChild(function(e,t){const o=document.createElement("div");o.classList.add("monthview--daygroup"),o.setAttribute("data-mvgrouped-date",e),o.setAttribute("data-mvgrouped-length",t);const s=document.createElement("div");s.classList.add("monthview--grouped");const n=document.createElement("div");return n.classList.add("monthview--daycontent__grouped-title"),n.textContent=t+" more...",s.appendChild(n),o.appendChild(s),o}(n,s.length)),c.classList.add("monthview--daycontent-grouped")):s.forEach(((e,o)=>{(0,l.compareDates)(new Date(e.start),t)&&(o>0&&(d+=f.getTop()),c.appendChild(S(e.id,e.category,d,e.title)))}))),a.append(i,c),y.appendChild(a)}function x(){y.innerText="",y.onmousedown=null,y.onclick=null}function k(){y.innerText="";let o=e.getMonthArray(),s=t.getMonthEntries(o),n=t.getGroupedMonthEntries(s);o.length<42?y.classList.add("five-weeks"):y.classList.remove("five-weeks");o.forEach(((e,t)=>{C(e,t,(e=>{const t=n[e.getDate()];return void 0!==t?t:[]})(e),(0,l.getDateFormatted)(e))})),o=null,s=null,n=null}function D(e){return e.getAttribute("data-mv-coordinates").split(",").map((e=>parseInt(e)))}function L(e,o){let[s,n,r]=(0,l.getDateFromAttribute)(e,"data-mv-date","month");const a=o.getAttribute("data-monthview-id");let i=t.getEntry(a),[c,d]=[new Date(i.start),new Date(i.end)],u=new Date(s,n,r),m=(0,l.getDurationSeconds)(c,u),g=d.getDate()+Math.floor(m/86400)+1;t.updateEntry(a,{start:new Date(s,n,r,c.getHours(),c.getMinutes()),end:new Date(d.getFullYear(),d.getMonth(),g,d.getHours(),d.getMinutes())})}function _(e){e.classList.remove("box-mv-dragactive"),e.style.top="0px",e.style.left="0px",e.style.width="100%",e.style.height=`${f.getHeight()}px`}function A(e,t){if(0!==e.length&&void 0!==e)for(let o=0;o<e.length;o++)void 0===e[o]||null===e[o]||e[o].classList.contains("monthview--box__form-temp")||(e[o].style.top=o*f.getTop()+"px",t?(e[o].classList.add("monthview--box__drop"),setTimeout((()=>{e[o].classList.remove("monthview--box__drop")}),200)):e[o].setAttribute("class","monthview--box"))}function E(s,n){(0,m.setStylingForEvent)("dragstart",y,t);const c=Date.now(),d=n.parentElement,g=d.parentElement;g.classList.add("current-drop-zone");const p=document?.querySelector(".more-modal"),h=d.childElementCount,[b,w]=D(g);!function(e){const t=e.cloneNode(!0);y.prepend(t),t.classList.add("box-mv-dragactive"),t.focus()}(n);const S=document?.querySelector(".box-mv-dragactive");S.setAttribute("data-box-mvx",b),S.setAttribute("data-box-mvy",w);const C=g.getBoundingClientRect(),x=parseFloat(C.width.toFixed(2)),k=parseFloat(C.height.toFixed(2)),E=parseInt(y.offsetLeft),M=n.getBoundingClientRect(),$=parseFloat(M.width),q=f.getHeight();S.style.top=`${d.offsetTop}px`,S.style.width=`${$}px`,S.style.height=`${q}px`,S.style.left=`${d.offsetLeft}px`,S.classList.add("hide-mv-clone");let j=y.classList.contains("five-weeks"),[F,I]=[s.clientX,s.clientY],[Y,O]=[0,0],[B,N]=[b,w],H=!1,R=!1;const P=e=>{Y=Math.abs(e.clientX-F),O=Math.abs(e.clientY-I),(Y>1||O>1)&&(R||(p&&p.remove(),document.body.style.cursor="move",R=!0)),(Y>3||O>3)&&(H||(n.style.opacity="0.5",S.classList.remove("hide-mv-clone")),H=!0);let t=Math.floor((e.clientX-y.offsetLeft)/x);if(t<0)return void(t=0);if(t>6)return void(t=6);if(B!==t){let e=t*x+E;S.style.left=`${parseFloat(e.toFixed(2))}px`,B=t}let o=Math.floor((e.clientY-y.offsetTop)/k);if(o<0)o=0;else if(j&&o>4)o=4;else if(!j&&o>5)o=5;else{if(N!==o){let e=o*k+y.offsetTop+16;S.style.top=`${parseFloat(e.toFixed(2))}px`,N=o}document.querySelector(".current-drop-zone")?.classList.remove("current-drop-zone"),document.querySelector(`[data-mv-coordinates="${t},${o}"]`).classList.add("current-drop-zone")}},z=()=>{const s=document?.querySelector(".current-drop-zone"),g=Date.now()-c,[f,C]=D(s);s.classList.remove("current-drop-zone");const x=s.children[1],k=x?.children;let E=!1;if(null==s)return(0,m.setStylingForEvent)("dragend",y,t),n.style.opacity="1",S.remove(),E=!1,document.removeEventListener("mousemove",P),void document.removeEventListener("mouseup",z);f===b&&C===w?(E=!1,n.style.opacity="1",S.remove(),p&&p.remove(),g<200&&function(s,n){const c=s.getAttribute("data-monthview-id"),d=t.getEntry(c),m=d.start,g=t.getCtgColor(d.category),p=(0,u.hextorgba)(g,.5);n.classList.add("monthview--daycontent__form-temp"),n.style.backgroundColor=p;const h=n.getBoundingClientRect();let[y,f]=(0,u.placePopup)(360,165,[parseInt(h.left),parseInt(h.top)],[window.innerWidth,window.innerHeight]);t.setFormResetHandle("month",T);const v=new a.default;v.setSubmission("edit",c,d.title,d.description),v.setCategory(d.category,g),v.setDates((0,l.getFormDateObject)(m,d.end)),r.default.setFormDatepickerDate(e,o,m);const b=()=>r.default.getConfig(v.getSetup());(0,i.default)(e,t,d,o,b);const w=document.querySelector(".entry__options");w.style.top=f+"px",w.style.left=y+"px"}(n,s)):(E=!0,void 0!==k[0]?k[0].classList.contains("monthview--daygroup")?(!function(e){const t=e.getAttribute("data-mvgrouped-length");e.setAttribute("data-mvgrouped-length",+t+1),e.firstChild.firstChild.textContent=`${e.getAttribute("data-mvgrouped-length")} more...`}(k[0]),L(s,S),S.remove(),n.remove()):(_(S),S.classList.remove("hide-mv-clone"),x.insertBefore(S,k[0]),L(s,S),n.remove(),k.length<=5?A(k,!0):function(e,t,o,s){const n=document.createElement("div");n.classList.add("monthview--daygroup"),n.setAttribute("data-mvgrouped-date",e.getAttribute("data-mv-date")),n.setAttribute("data-mvgrouped-length",o.length);const r=document.createElement("div");r.classList.add("monthview--grouped");const a=document.createElement("div");a.classList.add("monthview--daycontent__grouped-title"),a.textContent=o.length+" more...",t.innerText="",n.appendChild(r),r.appendChild(a),t.appendChild(n),t.classList.add("monthview--daycontent-grouped"),s.remove()}(s,x,k,S)):(_(S),n.remove(),S.classList.remove("hide-mv-clone"),x.appendChild(S),L(s,S),v())),E&&(1===h?v():A(d.children,!0)),(0,m.setStylingForEvent)("dragend",y,t),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",z)}function M(e){"Escape"===e.key&&$()}function $(){const e=document?.querySelector(".more-modal");e&&e.remove(),b("hide"),document.removeEventListener("keydown",M)}function q(o){const s=function(e){const[o,s,n]=(0,l.getDateFromAttribute)(e.target.parentElement.parentElement,"data-mv-date","month");return t.getDayEntriesArray(new Date(o,s,n))}(o);b("show");const n=o.target.parentElement.parentElement,r=document.createElement("div");r.classList.add("more-modal"),r.setAttribute("data-mv-modal",n.getAttribute("data-mv-idx"));let a=28*s.length+64;a>400&&(a=400);const i=n.getBoundingClientRect();parseInt(i.left);let c=parseInt(i.width),[m,h]=(0,u.placePopup)(216,a,[parseInt(i.left),parseInt(i.top)],[window.innerWidth,window.innerHeight],!0,c),f=+window.innerHeight-+h-24;r.setAttribute("style",`top: ${h}px; left: ${m}px; width: 216px; height: ${a}px; min-height: 120px; max-height: ${f}px;`);const v=document.createElement("div");v.classList.add("more-modal-header");const S=document.createElement("div");S.classList.add("more-modal-header-title");const C=(0,l.createDateFromFormattedString)(o.target.parentElement.parentElement.getAttribute("data-mv-date")),x=document.createElement("span");x.classList.add("more-modal-header-title-dow"),x.textContent=g.default.labels.weekdaysShort[C.getDay()].toUpperCase();const k=document.createElement("span");k.classList.add("more-modal-header-title-dayn"),k.textContent=C.getDate();const D=document.createElement("div");D.classList.add("more-modal-header-close"),D.appendChild((0,d.createCloseIcon)("var(--white3)")),D.setAttribute("data-tooltip","Close"),S.append(D,x,k),v.appendChild(S),r.append(v,function(e){const o=document.createElement("div");o.classList.add("more-modal-content");for(let s=0;s<e.length;s++){const n=e[s],r=document.createElement("div");r.classList.add("more-modal-entry"),r.style.top=22*s+"px",r.style.width="calc(100% - 16px)",r.style.height="20px",r.setAttribute("data-monthview-id",n.id),r.setAttribute("data-mvhidden-category",n.category),r.style.backgroundColor=t.getCtgColor(n.category);const a=document.createElement("div");a.classList.add("more-modal-entry-title"),a.textContent=n.title,r.appendChild(a),o.appendChild(r)}return o}(s)),y.appendChild(r),k.addEventListener("click",(()=>{!function(t){b("hide"),e.setDate(t.getFullYear(),t.getMonth(),t.getDate()),w()}(C)}),{once:!0}),p.addEventListener("click",(e=>{$()}),{once:!0}),document.addEventListener("keydown",M)}function T(){const e=document.querySelector(".monthview--daycontent__form-temp");e&&(e.removeAttribute("style"),e.classList.remove("monthview--daycontent__form-temp"))}function j(){const e=document?.querySelector(".monthview--box__form-temp");if(!e)return;const t=e.parentElement,o=t.parentElement;o.removeAttribute("style"),o.classList.remove("monthview--daycontent__form-temp"),e.remove(),A(t.children,!1)}function F(s,n){if(s.target.classList.contains("monthview--daycontent")){const s=n.parentElement,i=s.getBoundingClientRect(),[c,d]=(0,l.generateTempStartEnd)((0,l.getDateFromAttribute)(s,"data-mv-date","month"));let m,g;if(void 0===t.getActiveCategories()){let e=t.getDefaultCtg();m=e[0],g=e[1].color}else{let e=t.getFirstActiveCategoryKeyPair();m=e[0],g=e[1]}!function(e,t,o,s){const n=S("temp",o,0,"( New Entry )");e.scrollTop=0,n.classList.add("monthview--box__form-temp"),t.classList.add("monthview--daycontent__form-temp"),t.style.backgroundColor=s,e.children.length>0?(e.insertBefore(n,e.children[0]),A(e.children,!1)):e.appendChild(n)}(n,s,m,(0,u.hextorgba)(g,.5)),t.setFormResetHandle("month",j);const p=t.getRenderFormCallback(),h=new a.default;h.setSubmission("create",null,null,null),h.setCategory(m,g),h.setDates((0,l.getFormDateObject)(c,d)),p(),r.default.setFormDatepickerDate(e,o,c),r.default.getConfig(h.getSetup()),r.default.setFormStyle(parseInt(i.right),parseInt(i.top),!1,null)}}function I(t){const o=(0,u.getClosest)(t,".monthview--box"),s=(0,u.getClosest)(t,".monthview--dayofmonth"),n=(0,u.getClosest)(t,".monthview--daygroup"),r=(0,u.getClosest)(t,".more-modal-entry"),a=(0,u.getClosest)(t,".more-modal-header-close");if(o){if(window.innerHeight<=280)return;E(t,t.target)}else{if(s)return t.stopPropagation(),void function(t){const[o,s,n]=(0,l.getDateFromAttribute)(t.target.parentElement,"data-mv-date","month");e.setDate(o,s,n),e.setDateSelected(n),w()}(t);if(n)q(t);else if(r){if(window.innerHeight<=300)return;!function(e){const t=document.querySelector(".more-modal"),o=parseInt(t.getAttribute("data-mv-modal")),s=document.querySelector(`[data-mv-idx="${o}"]`),n=e.target.cloneNode(!0);n.setAttribute("class","monthview--box"),n.firstChild.setAttribute("class","monthview--title"),n.style.top=`${f.getTop()}px`,n.style.left="0px",n.style.width="100%",s.lastChild.appendChild(n);const r=s.lastChild.firstChild,a=parseInt(r.getAttribute("data-mvgrouped-length"))-1;a<1?(s.lastChild.classList.remove("monthview--daycontent-grouped"),r.remove(),n.style.top="0px"):(r.setAttribute("data-mvgrouped-length",a),r.firstChild.firstChild.textContent=`${a} more...`),E(e,n),n.focus(),t.style.opacity="0.8"}(t)}else a&&$()}}function Y(e){if((0,u.getClosest)(e,".monthview--daycontent")){if(window.innerHeight<=300)return;F(e,e.target)}else;}k(),y.onmousedown=I,y.onclick=Y,t.setResetPreviousViewCallback(x)}},"./src/components/views/weekview.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var s=o("./src/config/setViews.js"),n=o("./src/components/menus/sidebarDatepicker.js"),r=o("./src/components/forms/formUtils.js"),a=o("./src/components/forms/setForm.js"),i=o("./src/components/menus/entryOptions.js"),c=o("./src/factory/entries.js"),l=o("./src/locales/en.js"),d=o("./src/utilities/timeutils.js"),u=o("./src/utilities/svgs.js"),m=o("./src/utilities/dateutils.js"),g=o("./src/utilities/dragutils.js"),p=o("./src/utilities/helpers.js");const h=document.querySelector(".sidebar"),y=document.querySelector(".resize-overlay"),f=document.querySelector(".weekview"),v=document.querySelector(".weekview--calendar"),b=document.querySelector(".weekview--header"),w=document.querySelectorAll(".weekview--header-day__number"),S=document.querySelector(".weekview__grid"),C=document.querySelector(".weekview--sidebar"),x=document.querySelectorAll(".allday--col"),k=document.querySelectorAll(".week--col");function D(e,t,o){const D=e.getWeekArray();let L=t.getWeekEntries(D),_=new c.Week(L.day,L.allDay),A=null;function E(){k.forEach((e=>{e.innerText=""})),x.forEach((e=>{e.innerText=""})),f.onmousedown=null,b.onclick=null,C.innerText=""}function M(e,t){const o=document.createElement("div");o.classList.add("allday__cell"),o.classList.add("allday__cell--active");const s=document.createElement("div");s.classList.add("wv-ad--taskicons");const n=document.createElement("div");n.classList.add("wv-ad--taskicon"),n.style.backgroundColor="#6F0C2B",s.appendChild(n);const r=document.createElement("div");r.classList.add("wv-ad--celltitle"),r.textContent=`${t} more`;const a=document.createElement("div");a.classList.add("wv-ad--cellexpand"),a.appendChild((0,u.createExpandDownIcon)("var(--white3)")),o.append(s,r,a),e.appendChild(o)}function $(s,n,c,d,g){let h=l.default.labels.weekdaysLong[d],v=n.getAttribute("data-wvtop-day");const b=document.createElement("div");b.classList.add("allday-modal");const w=n.getBoundingClientRect();let C;C=c.length<4?parseInt(55*c.length)+60:parseInt(220)+60;let[x,k]=(0,p.placePopup)(240,C,[parseInt(w.left),parseInt(w.top)+24],[window.innerWidth,window.innerHeight],!0,Math.floor((window.innerWidth-36-S.offsetLeft)/7));x+250>window.innerWidth?b.style.left=window.innerWidth-246+"px":b.style.left=x+"px",b.style.top=k+"px";const L=document.createElement("div");L.classList.add("allday-modal__header");const _=document.createElement("div");_.classList.add("allday-modal-title"),_.textContent=`${h}, ${l.default.labels.monthsLong[D[d].getMonth()]} ${v}${(0,m.getDayOrdinal)(v)}`;const A=document.createElement("div");A.classList.add("close-allday-modal"),A.appendChild((0,u.createCloseIcon)("var(--white4"));const E=document.createElement("div");function M(e){"Escape"===e.key&&$()}function $(){b.remove(),b.onmousedown=null,y.classList.add("hide-resize-overlay"),y.onclick=null,document.removeEventListener("keydown",M),t.removeActiveOverlay("allday-modal"),g.firstChild.firstChild.style.backgroundColor="#6F0C2B",g.classList.remove("allday-modal__cell--open")}E.classList.add("allday-modal__content"),c.forEach(((e,o)=>{const s=function(e,o,s,n){const r=document.createElement("div");r.classList.add("allday-modal__cell"),r.setAttribute("data-allday-modal-cell",o),r.setAttribute("data-allday-modal-cell-id",e.id),r.style.backgroundColor=t.getCtgColor(e.category);const a=document.createElement("div");a.classList.add("allday-modal__cell-content");const i=document.createElement("div");i.classList.add("allday-modal__cell-action-icons");const c=document.createElement("div");c.classList.add("allday-modal__celltitle"),c.textContent=e.title;const l=document.createElement("div");l.classList.add("allday-modal__cellend-date"),l.textContent=(0,m.formatStartEndDate)(new Date(e.start),new Date(e.end));const d=document.createElement("div");return d.classList.add("allday-modal__cellcategory-title"),d.textContent="category: "+e.category,a.append(c,d,l),i.appendChild((0,u.createMeatballVertIcon)("var(--taskcolor")),r.append(a,i),r}(e,o);E.appendChild(s)})),L.append(_,A),b.append(L,E),f.insertBefore(b,document.querySelector(".weekview__top")),t.addActiveOverlay("allday-modal"),y.onclick=$,b.onmousedown=function(s){const n=(0,p.getClosest)(s,".close-allday-modal"),c=(0,p.getClosest)(s,".allday-modal__cell-action-icons");n?$():c&&function(s,n,c){const l=s.id,d=s.start,u=t.getCtgColor(s.category),g=c.target.getBoundingClientRect();let[h,y]=(0,p.placePopup)(400,165,[parseInt(g.right),c.clientY+28],[window.innerWidth,window.innerHeight]);t.setFormResetHandle("week",n);const f=new a.default;f.setSubmission("edit",l,s.title,s.description),f.setCategory(s.category,u),f.setDates((0,m.getFormDateObject)(d,s.end)),r.default.setFormDatepickerDate(e,o,d);const v=()=>r.default.getConfig(f.getSetup());(0,i.default)(e,t,s,o,v);const b=document.querySelector(".entry__options");b.style.top=y+"px",b.style.left=h+"px"}(t.getEntry(s.target.parentElement.getAttribute("data-allday-modal-cell-id")),$,s)},document.addEventListener("keydown",M)}function q(e){return document.querySelector(`[data-column-index="${e}"]`)}function T(){document.querySelector(".temp-week-box")?.remove()}function j(s,c){(0,g.setStylingForEvent)("dragstart",f,t);const l=c.parentElement,u=l.getAttribute("data-column-index");let y=l.getAttribute("data-column-index"),v=!1;c.setAttribute("data-box-col",y);const b=+c.style.top.split("px")[0],w=+c.style.height.split("px")[0];let C=s.pageY-S.offsetTop,x=s.pageY,L=s.pageX,[A,E]=[0,0],[M,$]=[0,0],T=!1;const j=e=>{M=Math.abs(e.clientX-L),$=Math.abs(e.clientY-x),T||(M>3||$>3)&&(T=!0,document.body.style.cursor="move",c.classList.contains("box-ontop")&&(v=!0,(0,g.resetStyleOnClick)("week",c)),c.classList.add("box-dragging"),(0,g.createTemporaryBox)(c,l,v,"week"),M=0,$=0);const t=S.offsetTop,o=e.pageY-t;let s=o-C,n=12.5*Math.round((s+b)/12.5);if(n<0||o<0)return void(n=0);if(n+w>1188)return;c.style.top=`${n}px`;const r=e.pageX-L>0?"right":"left",a=e.pageX;let i,d,u=L-a;i=+y-1>=0?parseInt(q(y-1).getBoundingClientRect().right):null,d=+y+1<k.length?parseInt(q(+y+1).getBoundingClientRect().left):null,"right"===r&&null!==d&&e.pageX>=d&&(q(+y+1).appendChild(c),L=e.pageX,y=+y+1,c.setAttribute("data-box-col",+y)),"left"===r&&null!==i&&e.pageX<=i&&(q(+y-1).appendChild(c),L=e.pageX,y=+y-1,c.setAttribute("data-box-col",+y)),E=s,A=u};document.addEventListener("mousemove",j),document.addEventListener("mouseup",(function s(){const l=document.querySelector(".temporary-box");if(c.classList.remove("box-dragging"),v&&c.classList.add("box-ontop"),null===l){const s=()=>{(0,g.setStylingForEvent)("dragend",f,t),c.classList.remove("wv-box-clicked")};c.classList.add("wv-box-clicked");const n=c.getAttribute("data-box-id"),l=t.getEntry(n),d=l.start,u=c.style.backgroundColor,h=c.getBoundingClientRect();let[y,v]=(0,p.placePopup)(400,165,[parseInt(h.left),parseInt(h.top)+56],[window.innerWidth,window.innerHeight],!1);t.setFormResetHandle("week",s);const b=new a.default;b.setSubmission("edit",n,l.title,l.description),b.setCategory(l.category,u),b.setDates((0,m.getFormDateObject)(d,l.end)),r.default.setFormDatepickerDate(e,o,d);const w=()=>r.default.getConfig(b.getSetup());(0,i.default)(e,t,l,o,w);const S=document.querySelector(".entry__options");window.innerWidth>580?(S.style.top=+v+"px",S.style.left=y+"px"):S.style.top="64px"}else{l.remove(),(0,g.setBoxTimeAttributes)(c,"week");const s=(0,d.default)(+c.getAttribute("data-start-time"),+c.getAttribute("data-time-intervals"));c.setAttribute("data-time",s),c.children[1].children[0].textContent=s,(0,g.updateBoxCoordinates)(c,"week",_),_.updateStore(t,c.getAttribute("data-box-id"),D),y!==+u&&(h.classList.contains("hide-sidebar")||(o.setDate(e.getYear(),e.getMonth(),e.getDay()),(0,n.default)(e,t,o)));let r=+c.getAttribute("data-box-col");_.getBoxesByColumn(r).length>1?(0,g.default)(r,"week",_):c.setAttribute("box-idx","box-one"),(0,g.setStylingForEvent)("dragend",f,t)}document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",s)}))}function F(s){(0,g.setStylingForEvent)("dragstart",f,t),document.body.style.cursor="move";const[n,i]=t.getFirstActiveCategoryKeyPair(),c=parseInt(s.target.getAttribute("data-column-index")),l=document.createElement("div");l.setAttribute("class","box box-dragging temp-week-box");const u=(0,g.createTempBoxHeader)("week"),p=document.createElement("div"),h=document.createElement("span"),y=document.createElement("span");p.classList.add("box__content"),h.classList.add("box-time"),y.classList.add("box-time");const v=+S.offsetTop,b=parseInt(S.scrollTop),w=s.pageY-S.offsetTop;let C=12.5*Math.round((w+Math.abs(b))/12.5);l.setAttribute("style",(0,g.getBoxDefaultStyle)(C,i));let x={y:+C/12.5,x:c,h:1,e:2},[k,L,_,A]=(0,g.startEndDefault)(C);function E(e){let t=e.pageY-v-w,o=12.5*Math.round(t/12.5);o<=12.5&&(o=12.5),o+C>1188&&(o=1187.5-C),l.style.height=`${o}px`,x.h=+o/12.5,x.e=+x.y+x.h,_=Math.floor((+o+ +C)/12.5/4),A=15*Math.floor((+o+ +C)/12.5%4),h.style.wordBreak="break-word",h.textContent=`${(0,d.formatTime)(k,L)} â€“ `,y.textContent=`${(0,d.formatTime)(_,A)}`}p.append(h,y),l.append(u,p),s.target.appendChild(l),document.addEventListener("mousemove",E),document.addEventListener("mouseup",(function s(){const d=(0,m.getTempDates)(new Date(D[c]),[k,_],[L,A]);!function(s,n,i,c,l){t.setFormResetHandle("week",T);const d=t.getRenderFormCallback(),u=new a.default,[g,p,h,y]=l;u.setSubmission(g,p,h,y),"create"===g&&(s.style.opacity=.9);const[f,v]=i;u.setCategory(f,v);const[b,w]=c;u.setDates((0,m.getFormDateObject)(b,w)),d(),r.default.setFormDatepickerDate(e,o,b),r.default.getConfig(u.getSetup())}(l,0,[n,i],d,["create",null,null,null]),(0,g.setStylingForEvent)("dragend",f,t),document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",E)}))}function I(e){const o=(0,p.getClosest)(e,".box-resize-s"),s=(0,p.getClosest)(e,".box"),n=(0,p.getClosest)(e,".week--col"),r=(0,p.getClosest)(e,".allday--col");o?function(e,o){(0,g.setStylingForEvent)("dragstart",f,t),document.body.style.cursor="move";const s=o.parentElement,n=s.getAttribute("data-column-index");o.setAttribute("data-box-col",n);let r=!1,a=(0,g.getOriginalBoxObject)(o);o.classList.contains("box-ontop")&&(r=!0,(0,g.resetStyleOnClick)("week",o)),o.classList.add("box-resizing");const i=o.offsetTop;(0,g.createTemporaryBox)(o,s,r,"week");const c=e=>{const t=S.offsetTop;let s=Math.abs(parseInt(v.getBoundingClientRect().top));s==t?s-=t:v.getBoundingClientRect().top>0?s=t-s:s+=t;const n=12.5*Math.round((e.pageY-i-t+s)/12.5);n<=12.5?o.style.height="12.5px":n+parseInt(o.style.top)>1188||(o.style.height=`${n}px`)},l=e=>{if(document.querySelector(".temporary-box").remove(),o.classList.remove("box-resizing"),r&&o.classList.add("box-ontop"),o.style.height===a.height)r&&(o.setAttribute("class",a.class),o.style.left=a.left,o.style.width=a.width);else{(0,g.setBoxTimeAttributes)(o,"week");const e=+o.getAttribute("data-start-time"),s=+o.getAttribute("data-time-intervals"),n=(0,d.default)(e,s);o.children[1].children[0].textContent=n,(0,g.updateBoxCoordinates)(o,"week",_);let r=+o.getAttribute("data-box-col");_.getBoxesByColumn(r).length>1&&(0,g.default)(r,"week",_),_.updateStore(t,o.getAttribute("data-box-id"),D)}(0,g.setStylingForEvent)("dragend",f,t),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)}(0,e.target.parentElement):s?j(e,e.target):n?F(e,e.target):r&&e.target.childElementCount>0&&function(e,t){const o=t.parentElement;t.classList.add("allday-modal__cell--open"),t.firstChild.firstChild.style.backgroundColor="#01635b";const s=parseInt(o.getAttribute("data-allday-column"));let n=_.getBoxesByColumnTop(s);n.length>0&&($(0,o,n,s,t),y.classList.remove("hide-resize-overlay"))}(0,e.target)}function Y(){!function(){k.forEach((e=>{e.innerText=""})),x.forEach((e=>{e.innerText=""})),_.getBoxes().forEach((e=>{const o=e.coordinates.y;(null==A||o<A)&&(A=o);const s=k[+e.coordinates.x];(0,g.createBox)(s,e,"week",t.getCtgColor(e.category))}));const e=_.getBoxesTopLengths();for(const t in e)M(x[+t],e[t])}();_.getColumnsWithMultipleBoxes().forEach((e=>(0,g.default)(e,"week",_)))}function O(n){(0,p.getClosest)(n,".weekview--header-day__number")&&function(n){let[r,a,i]=(0,m.getDateFromAttribute)(n.target,"data-weekview-date");e.setDate(r,a,i),e.setDateSelected(i),e.setComponent("day"),(0,s.default)("day",e,t,o)}(n)}C.innerText="",function(){for(let e=0;e<24;e++){let t,o;0===e?(t="",o=""):(t=e,o="AM"),t>12&&(t-=12),e>=12&&(o="PM");const s=document.createElement("span");s.classList.add("sidegrid-cell"),s.textContent=`${t} ${o}`,C.appendChild(s)}}(),function(){let t,o;document.querySelector(".wv-gmt").textContent=`UTC ${e.getGmt()}`;let s=[],n=[];const r=e.getToday();let[a,i,c]=[r.getFullYear(),r.getMonth(),r.getDate()];D.forEach(((r,l)=>{let[d,u,m]=[r.getFullYear(),r.getMonth(),r.getDate()];s.push(m),n.push(`${d}-${u}-${m}`),m===e.getDateSelected()&&u===e.getMonth()&&(o=m),m===c&&u===i&&d===a&&(t=m)})),s.forEach(((e,s)=>{e===o?w[s].classList.add("wvh--selected"):w[s].classList.remove("wvh--selected"),e===t?w[s].classList.add("wvh--today"):w[s].classList.remove("wvh--today"),w[s].textContent=e,w[s].setAttribute("data-weekview-date",n[s]),x[s].setAttribute("data-wvtop-day",e)}))}(),Y(),f.onmousedown=I,b.onclick=O,t.setResetPreviousViewCallback(E),null!==A&&setTimeout((()=>{S.scrollTo({top:Math.abs(12.5*+A-25),behavior:"instant"})}),4)}},"./src/components/views/yearview.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var s=o("./src/config/setViews.js"),n=o("./src/locales/en.js"),r=o("./src/utilities/helpers.js"),a=o("./src/utilities/dateutils.js"),i=o("./src/components/menus/sidebarDatepicker.js");const c=document.querySelector(".calendar__yearview"),l=document.querySelector(".sidebar");function d(e,t,o){function d(t,o,s){const r=e.getToday(),[a,i,c]=[+r.getFullYear(),+r.getMonth(),+r.getDate()],l=new Date(t,o,0),d=l.getDate(),u=(new Date(t,o+2,0),new Date(t,o,1)),m=new Date(t,o+1,0).getDate(),g=u.getDay(),p=document.createElement("div");p.classList.add("yv-monthcell");const h=document.createElement("div");h.classList.add("yv-monthcell__header");const y=document.createElement("div");y.classList.add("yv-monthcell__header--rowone"),y.textContent=n.default.labels.monthsLong[o],o===e.getMonth()&&t===e.getYear()&&(y.classList.add("yvmht-current"),p.classList.add("cell-current"));const f=document.createElement("div");f.classList.add("yv-monthcell__header--weekdays"),n.default.labels.weekdaysNarrow.forEach((e=>{const t=document.createElement("div");t.classList.add("yv-monthcell__header--weekday"),t.textContent=e,f.appendChild(t)}));const v=document.createElement("div");return v.classList.add("yv-monthcell__body"),h.append(y,f),function(){const t=(t,o,n,r,l)=>{const d=document.createElement("div");return d.classList.add("yv-monthcell__body--day-wrapper"),null!==o&&d.classList.add(o),l&&(d.setAttribute("data-yv-date",`${n}-${r}-${t}`),d.textContent=t,t===e.getDateSelected()&&r===e.getMonth()&&n===e.getYear()&&d.classList.add("yvmb-selected"),t===c&&r===i&&n===a&&d.classList.add("yvmb-today"),s[t]&&d.classList.add("yvmb-has-entry")),d};for(let e=d-g;e<d;e++)v.appendChild(t(e+1,"yvmb-prevnext",l.getFullYear(),l.getMonth(),!1));for(let e=0;e<m;e++)v.appendChild(t(e+1,null,u.getFullYear(),u.getMonth(),!0))}(),p.append(h,v),p}function u(n){const r=n.target,[c,d,u]=(0,a.getDateFromAttribute)(r,"data-yv-date",null);e.setDate(c,d,u),e.setDateSelected(u),e.setComponent("day"),(0,s.default)("day",e,t,o),l.classList.contains("hide-sidebar")||(o.setDate(e.getYear(),e.getMonth(),e.getDay()),(0,i.default)(e,t,o))}function m(e){(0,r.getClosest)(e,".yv-monthcell__body--day-wrapper")&&u(e)}function g(){c.innerText="",c.onmousedown=null}!function(){!function(){c.innerText="";let o=e.getYear(),s=t.getGroupedYearEntries(t.getYearEntries(o));for(let e=0;e<12;e++)s[e]?c.appendChild(d(o,e,s[e])):c.appendChild(d(o,e,[]));s=null,o=null}(),c.onmousedown=m,t.setResetPreviousViewCallback(g);const o=document?.querySelector(".cell-current");o&&setTimeout((()=>{c.scrollTo({top:parseInt(o.offsetTop)-100,behavior:"instant"})}),4)}()}},"./src/config/appDefaults.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var s=o("./src/utilities/helpers.js");const n=document.querySelector(".body");function r(e,t){let o=t.getAnimationStatus();setTimeout((()=>{n.classList.remove("preload")}),4),(0,s.setTheme)(e),o?n.classList.remove("disable-transitions"):n.classList.add("disable-transitions")}},"./src/config/renderViews.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>R});var s=o("./src/config/setViews.js"),n=o("./src/components/menus/datepicker.js"),r=o("./src/components/menus/sidebarDatepicker.js"),a=o("./src/components/menus/sidebarCategories.js"),i=o("./src/utilities/helpers.js"),c=o("./src/components/forms/entryForm.js"),l=o("./src/components/menus/sidebarFooter.js"),d=o("./src/components/menus/shortcutsModal.js"),u=o("./src/components/menus/sidebarSubMenu.js"),m=o("./src/components/forms/goto.js"),g=o("./src/components/menus/editCategory.js");const p=document.querySelector(".body"),h=document.getElementsByName("color-scheme")[0],y=document.querySelector(".h__container"),f=document.querySelector(".logo"),v=document.querySelector(".toggle-form"),b=document.querySelector(".sb-toggle-form-btn"),w=document.querySelector(".sb-data-btn"),S=document.querySelector(".form-overlay"),C=document.querySelector(".entries__form"),x=document.querySelector(".datepicker"),k=document.querySelector(".datepicker-overlay"),D=document.querySelector(".datetime-wrapper"),L=document.querySelector(".datetime-content"),_=document.querySelector(".datepicker-sidebar"),A=document.querySelector(".sbdatepicker__body--dates"),E=document.querySelector(".sb__categories--body-form"),M=document.querySelector(".select__modal"),$=document.querySelector(".change-view--overlay"),q=document.querySelector(".change-view--wrapper"),T=document.querySelectorAll(".view-option"),j=document.querySelector(".sidebar"),F=document.querySelector(".sb__info"),I=document.querySelector(".sb__categories"),Y=document.querySelector(".container__calendars"),O=document.querySelector(".yearview"),B=document.querySelector(".monthview"),N=document.querySelector(".listview__body"),H=document.querySelector(".collapse-view");function R(e,t,o){function R(){const t=e.getColorScheme();"light"===t?(e.setColorScheme("dark"),h.setAttribute("content","dark light"),p.classList.remove("light-mode"),p.classList.remove("contrast-mode")):"dark"===t?(e.setColorScheme("contrast"),h.setAttribute("content","dark"),p.classList.remove("light-mode"),p.classList.add("contrast-mode")):(e.setColorScheme("light"),h.setAttribute("content","light"),p.classList.add("light-mode"),p.classList.remove("contrast-mode"))}function P(n){(0,s.default)(n,e,o,t)}function z(){j.classList.contains("hide-sidebar")||(t.setDate(e.getYear(),e.getMonth(),e.getDay()),(0,r.default)(e,o,t))}function W(){e.setPrevDay(),P("day"),e.setDateSelected(e.getDay()),z()}function U(){e.setNextDay(),P("day"),e.setDateSelected(e.getDay()),z()}function V(){e.setPrevWeek(),P("week"),z()}function Q(){e.setNextWeek(),P("week"),z()}function J(){e.setPrevMonth(),P("month"),z()}function X(){e.setNextMonth(),P("month"),z()}function Z(){e.setPrevYear(),P("year"),z()}function K(){e.setNextYear(),P("year"),z()}let G=250;function ee(e,t,s){if(o.getAnimationStatus()){const o=t=>{"left"===t?e.classList.remove("transition--right"):e.classList.remove("transition--left")};e.classList.contains("weekview--header")||(Y.style.overflowX="hidden",setTimeout((()=>{Y.style.overflowX="auto"}),200)),o(t);const n=`transition--${t}`;e.classList.contains(n)?(s(),G+=250):(e.classList.add(n),setTimeout((()=>{e.classList.remove(n)}),G),s(),G=250)}else s()}function te(){(0,c.default)(e,o,t),C.setAttribute("style","top:5%;left:5%;right:5%;bottom:5%;margin:auto;"),C.classList.remove("hide-form"),S.classList.remove("hide-form-overlay"),o.addActiveOverlay("hide-form-overlay")}function oe(){(0,u.default)(o,e)}function se(){if("hide"===e.getSidebarState())v.onclick=te,b.onclick=null,w.onclick=null,F.onmousedown=null,I.onmousedown=null,_.onclick=null,setTimeout((()=>{A.innerText="",E.innerText=""}),100),Y.classList.remove("container__calendars-sb-active"),j.classList.add("hide-sidebar"),v.classList.remove("hide-toggle--form"),D.classList.remove("datetime-inactive"),L.removeAttribute("tabindex"),N.removeAttribute("style");else{v.onclick=null,b.onclick=te,w.onclick=oe,"list"===e.getComponent()&&(N.style.width="100%",N.style.marginLeft="0"),Y.classList.add("container__calendars-sb-active"),j.classList.remove("hide-sidebar"),v.classList.add("hide-toggle--form"),D.classList.add("datetime-inactive"),L.setAttribute("tabindex","-1");const s=o.getResetDatepickerCallback();null!==s&&(s(),o.setResetDatepickerCallback(null)),t.setDate(+e.getYear(),+e.getMonth(),+e.getDay()),t.setDateSelected(+e.getDay()),j.classList.contains("hide-sidebar")||((0,a.default)(e,o,t),(0,l.default)(o)),z()}}function ne(){if(!e.isToday()&&"list"!==e.getComponent()){let t=new Date;e.setDate(t.getFullYear(),t.getMonth(),t.getDate()),P(e.getComponent()),z()}}function re(){switch(e.getComponent()){case"day":ee(document.querySelector(".dayview--header-day__number"),"right",W);break;case"week":ee(document.querySelector(".weekview--header"),"right",V);break;case"month":ee(B,"right",J);break;case"year":ee(O,"right",Z)}}function ae(){switch(e.getComponent()){case"day":ee(document.querySelector(".dayview--header-day__number"),"left",U);break;case"week":ee(document.querySelector(".weekview--header"),"left",Q);break;case"month":ee(B,"left",X);break;case"year":ee(O,"left",K)}}function ie(){M.classList.remove("selection--active"),$.style.display="none",$.classList.add("toggle-options"),q.classList.add("toggle-options"),q.classList.remove("toggle-animate")}function ce(t,o){const s=e.getComponent();"week"===t||"day"===t?(H.onclick=he,H.classList.remove("hide-cbt")):(H.onclick=null,H.classList.add("hide-cbt")),(t!==s||o)&&(ie(),e.setComponent(t),P(t),function(e){const t=["day","week","month","year","list"].indexOf(e);for(let e=0;e<T.length;e++)e===t?T[e].classList.add("change-view--option__active"):T[e].classList.remove("change-view--option__active")}(t),(s||"week"===t)&&z(),document.activeElement.blur())}function le(e){M.classList.add("selection--active"),$.classList.remove("toggle-options"),$.style.display="block",q.classList.remove("toggle-options"),q.classList.add("toggle-animate");q.onclick=e=>{ce(e.target.getAttribute("data-view-option"))},$.onclick=ie}const de=(0,i.throttle)((function(s){switch(s.key.toLowerCase()){case"d":case"1":ce("day");break;case"w":case"2":ce("week");break;case"m":case"3":ce("month");break;case"y":case"4":ce("year");break;case"l":case"5":ce("list");break;case"s":e.toggleSidebarState(),se();break;case"f":te();break;case"v":(e=>{M.classList.contains("selection--active")?"v"===e.key.toLowerCase()&&ie():le()})(s);break;case"p":re();break;case"n":ae();break;case"t":ne();break;case"a":oe();break;case"?":case"/":(0,d.default)(o);break;case"0":R();break;case"g":(0,m.default)(e,o,t);break;case"+":(0,g.default)(o,{name:"new category",color:"#2C52BA"},!1,null)}}),150),ue=(0,i.throttle)((function(s){s.preventDefault();const r=(0,i.getClosest)(s,".menu"),a=(0,i.getClosest)(s,".btn-today"),c=(0,i.getClosest)(s,".prev"),l=(0,i.getClosest)(s,".next"),d=(0,i.getClosest)(s,".datetime-content"),u=(0,i.getClosest)(s,".h-search"),g=(0,i.getClosest)(s,".settings"),p=(0,i.getClosest)(s,".select__modal");if(r)return e.toggleSidebarState(),void se();a?ne():c?re():l?ae():d?function(s){x.classList.remove("hide-datepicker"),k.classList.remove("hide-datepicker-overlay"),t.setDate(e.getYear(),e.getMonth(),e.getDay());const r=s.target.getBoundingClientRect(),a=parseInt(r.left),i=parseInt(a/window.innerWidth*100);x.setAttribute("style",`left:${i}%;top:12px;`),(0,n.default)(e,o,t,"header")}(s):u?(0,m.default)(e,o,t):g?oe():p&&le()}),150);let[me,ge]=["",""];function pe(e){o.getShortcutsStatus()&&(o.hasActiveOverlay()||(me=e.key,"Control"!==me?"Control"!==ge||"Control"===me?de(e):ge="":ge="Control"))}function he(){const t=e.getComponent(),o={day:{component:document.querySelector(".dayview--header"),collapse:"dvh-collapse"},week:{component:document.querySelector(".weekview--header"),componentBody:document.querySelector(".weekview__grid"),collapse:"wvh-collapse",componentBodytoggle:"wvh-body-collapse"}},s={on:document.querySelector(".cv-svg-on"),off:document.querySelector(".cv-svg-off")};"week"!==t&&"day"!==t||(s.on.classList.toggle("hide-cbt"),s.off.classList.toggle("hide-cbt"),o[t].component.classList.toggle(o[t].collapse),"week"===t&&o[t].componentBody.classList.toggle(o[t].componentBodytoggle))}(()=>{ce(e.getComponent(),!0),M.setAttribute("data-value",`${e.getComponent().slice(0,1).toUpperCase()}`),f.setAttribute("data-current-day-of-month",(new Date).getDate()),se(),o.setRenderFormCallback(te);o.setRenderSidebarCallback((()=>{e.setSidebarState("open"),se()})),y.onclick=(0,i.throttle)(ue,150),document.addEventListener("keydown",pe)})()}},"./src/config/setViews.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var s=o("./src/components/menus/header.js"),n=o("./src/components/views/yearview.js"),r=o("./src/components/views/monthview.js"),a=o("./src/components/views/weekview.js"),i=o("./src/components/views/dayview.js"),c=o("./src/components/views/listview.js");const l=document.querySelector(".yearview"),d=document.querySelector(".monthview"),u=document.querySelector(".weekview"),m=document.querySelector(".dayview"),g=document.querySelector(".listview");let[p,h]=[null,null];function y(e,t,o,y){p=h,h=e,function(){const e=[l,d,u,m,g],t=o.getResetPreviousViewCallback();null!==p&&null!==t&&p!==h&&t(),e.forEach((e=>{e.classList.add("hide-view")}))}(),document.title=t.getMonthName(),function(e){switch(e){case"day":t.setComponent(e),(0,s.default)(t,e),(0,i.default)(t,o,y),m.classList.remove("hide-view");break;case"week":t.setComponent(e),(0,s.default)(t,e),(0,a.default)(t,o,y),u.classList.remove("hide-view");break;case"month":t.setComponent(e),(0,s.default)(t,e),(0,r.default)(t,o,y),d.classList.remove("hide-view");break;case"year":t.setComponent(e),(0,s.default)(t,e),(0,n.default)(t,o,y),l.classList.remove("hide-view");break;case"list":t.setComponent(e),(0,s.default)(t,e,o),(0,c.default)(t,o,y),g.classList.remove("hide-view");break;default:t.setComponent("month"),(0,s.default)(t,"month"),(0,r.default)(t,o,y),d.classList.remove("hide-view")}}(e)}},"./src/context/appContext.js":(e,t,o)=>{o.r(t),o.d(t,{datepickerContext:()=>c,default:()=>l});var s=o("./src/utilities/dateutils.js");const n=o("./src/locales/en.js").default.labels;class r{constructor(){this.colorScheme="dark",this.component="month",this.sidebarState="hide",this.date=new Date,this.gmt=(new Date).getTimezoneOffset()/60,this.dateSelected=1,this.daySelected=this.date.getDate(),this.monthSelected=this.date.getMonth(),this.yearSelected=this.date.getFullYear(),this.month=this.getMonth(),this.monthArray=this.getMonthArray(),this.week=this.getWeek()}setDateDefaults(){null===localStorage.getItem("yearSelected")&&(void 0===this.yearSelected&&(this.yearSelected=this.date.getFullYear()),r.setLocalYear(this.yearSelected)),null===localStorage.getItem("monthSelected")&&(void 0===this.monthSelected&&(this.monthSelected=this.date.getMonth()),r.setLocalMonth(this.monthSelected)),null===localStorage.getItem("daySelected")&&(void 0===this.daySelected&&(this.daySelected=this.date.getDate()),r.setLocalDay(this.daySelected)),null===localStorage.getItem("dateSelected")&&(void 0===this.dateSelected&&(this.dateSelected=1),r.setLocalDateSelected(this.dateSelected))}setSchemaDefaults(){null===localStorage.getItem("colorScheme")&&(void 0===this.colorScheme&&(this.colorScheme="dark"),r.setLocalColorScheme(this.colorScheme)),null===localStorage.getItem("component")&&(void 0===this.component&&(this.component="month"),r.setLocalComponent(this.component)),null===localStorage.getItem("sidebarState")&&(void 0===this.sidebarState&&(this.sidebarState="hide"),r.setLocalSidebarState(this.sidebarState))}setDefaults(){this.setSchemaDefaults(),this.setDateDefaults()}static getLocalDay(){return void 0===+localStorage.getItem("daySelected")?1:+localStorage.getItem("daySelected")}static getLocalMonth(){return void 0===+localStorage.getItem("monthSelected")?1:+localStorage.getItem("monthSelected")}static getLocalYear(){return void 0===+localStorage.getItem("yearSelected")?1:+localStorage.getItem("yearSelected")}static getLocalDateSelected(){return+localStorage.getItem("dateSelected")}static getLocalComponent(){return localStorage.getItem("component")}static getLocalColorScheme(){return localStorage.getItem("colorScheme")}static getLocalSidebarState(){return localStorage.getItem("sidebarState")}static setLocalDay(e){localStorage.setItem("daySelected",e)}static setLocalMonth(e){localStorage.setItem("monthSelected",e)}static setLocalYear(e){localStorage.setItem("yearSelected",e)}static setLocalDateSelected(e){localStorage.setItem("dateSelected",e)}static setLocalComponent(e){localStorage.setItem("component",e)}static setLocalSidebarState(e){localStorage.setItem("sidebarState",e)}static setLocalColorScheme(e){localStorage.setItem("colorScheme",e)}getAllMethodNames(){return Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter((e=>"constructor"!==e&&"getStoreStats"!==e))}getColorScheme(){return r.getLocalColorScheme()}setColorScheme(e){this.colorScheme=e,r.setLocalColorScheme(e)}setSidebarState(e){this.sidebarState=e,r.setLocalSidebarState(e)}toggleSidebarState(){this.sidebarState="open"===this.getSidebarState()?"hide":"open",r.setLocalSidebarState(this.sidebarState)}getComponent(){return r.getLocalComponent()||"month"}setComponent(e){this.component=e,r.setLocalComponent(e)}getSidebarState(){return r.getLocalSidebarState()||"hide"}setDay(e){this.daySelected=e,r.setLocalDay(e)}setMonth(e){this.monthSelected=e,r.setLocalMonth(e)}setYear(e){this.yearSelected=e,r.setLocalYear(e)}setDate(e,t,o){this.setYear(e),this.setMonth(t),this.setDay(o)}setDateSelected(e){this.dateSelected=e,r.setLocalDateSelected(e)}setPrevDay(){const e=new Date(this.getYear(),this.getMonth(),this.getDay()-1);this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}setPrevWeek(){const e=new Date(this.getYear(),this.getMonth(),this.getDay()-7);this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}setPrevMonth(){const e=new Date(this.getYear(),+this.getMonth()-1,this.getDay());this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}setPrevYear(){this.setYear(this.getYear()-1)}setNextDay(){const e=new Date(this.getYear(),this.getMonth(),this.getDay()+1);this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}setNextWeek(){const e=new Date(this.getYear(),this.getMonth(),this.getDay()+7);this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}setNextMonth(){const e=new Date(this.getYear(),this.getMonth()+1,this.getDay());this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}setNextYear(){this.setYear(this.getYear()+1)}getGmt(){return this.gmt}getDateSelected(){return+r.getLocalDateSelected()}getDay(){return+r.getLocalDay()}getMonth(){return+r.getLocalMonth()}getYear(){return+r.getLocalYear()||this.date.getFullYear()}getDate(){return new Date(this.getYear(),this.getMonth(),this.getDay())}getToday(){return this.date}getWeek(){let e=this.getDate();return e.setDate(e.getDate()-e.getDay()),e}getWeekday(){return this.getDate().getDay()}getWeekArray(){let e=this.getWeek(),t=[];for(let o=0;o<7;o++)o<6?t.push(new Date(e.getFullYear(),e.getMonth(),e.getDate()+o)):t.push(new Date(e.getFullYear(),e.getMonth(),e.getDate()+o,23,59,59,999));return t}getWeekRange(){let e=this.getWeekArray(),[t,o]=[e[0].getMonth(),e[6].getMonth()],[s,r]=[e[0].getDate(),e[6].getDate()];return t===o?`${n.monthsShort[t]} ${s} â€“ ${r}, ${e[0].getFullYear()}`:`${n.monthsShort[t]} ${s} â€“ ${r} ${n.monthsShort[o]}, ${e[1].getFullYear()}`}getWeekNumber(){let e=new Date(Date.UTC(this.getYear(),this.getMonth(),this.getDay()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));let t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-t)/864e5+1)/7)}getMonthName(){return n.monthsLong[this.getMonth()]}getDaysInMonth(){return new Date(this.getYear(),this.getMonth()+1,0).getDate()}getMonthArrayStartDay(){return new Date(this.getYear(),this.getMonth(),1).getDay()}getMonthArrayStart(){let e=[],[t,o]=[this.getYear(),this.getMonth()];for(let s=0;s<this.getMonthArrayStartDay();s++)e.push(new Date(t,o,0-s));return e}getMonthArrayEndDay(){return new Date(this.getYear(),this.getMonth()+1,0).getDay()}getMonthArrayEnd(e){let t=[],[o,s]=[this.getYear(),this.getMonth()];if(e){for(let e=1;e<8;e++)t.push(new Date(o,+s+1,e));return t}for(let e=1;e<7-this.getMonthArrayEndDay();e++)t.push(new Date(o,+s+1,e));return t}getMonthArray(){let e=[],t=this.getMonthArrayStart(),o=this.getDaysInMonth(),[s,n]=[this.getYear(),this.getMonth()],r=this.getMonthArrayEnd();for(let o=t.length-1;o>=0;o--)e.push(t[o]);for(let t=1;t<=o;t++)e.push(new Date(s,n,t));e[e.length-1].setHours(23,59,59,999),28===e.length&&r.length<7&&(r=this.getMonthArrayEnd(!0));for(let t=0;t<r.length;t++)t===r.length-1&&r[t].setHours(23,59,59,999),e.push(r[t]);return e}isToday(e){return e?(0,s.compareDates)(e,new Date):(0,s.compareDates)(this.getDate(),new Date)}}class a{constructor(){this.date=new Date,this.dateSelected=this.date.getDate(),this.daySelected=this.date.getDate(),this.monthSelected=this.date.getMonth(),this.yearSelected=this.date.getFullYear(),this.month=this.getMonth(),this.monthArray=this.getMonthArray()}setDefaults(){null===localStorage.getItem("pickerYearSelected")&&(void 0===this.yearSelected&&(this.yearSelected=this.date.getFullYear()),a.setLocalPickerYear(this.yearSelected)),null===localStorage.getItem("pickerMonthSelected")&&(void 0===this.monthSelected&&(this.monthSelected=this.date.getMonth()),a.setLocalPickerMonth(this.monthSelected)),null===localStorage.getItem("pickerDaySelected")&&(void 0===this.daySelected&&(this.daySelected=this.date.getDate()),a.setLocalPickerDay(this.daySelected)),null===localStorage.getItem("pickerDateSelected")&&(void 0===this.dateSelected&&(this.dateSelected=this.date.getDate()),a.setLocalPickerDateSelected(this.dateSelected))}static getLocalPickerDay(){return+localStorage.getItem("pickerDaySelected")}static getLocalPickerMonth(){return+localStorage.getItem("pickerMonthSelected")}static getLocalPickerYear(){return+localStorage.getItem("pickerYearSelected")}static getLocalPickerDateSelected(){return+localStorage.getItem("pickerDateSelected")}static setLocalPickerDay(e){localStorage.setItem("pickerDaySelected",e)}static setLocalPickerMonth(e){localStorage.setItem("pickerMonthSelected",e)}static setLocalPickerYear(e){localStorage.setItem("pickerYearSelected",e)}static setLocalPickerDateSelected(e){localStorage.setItem("pickerDateSelected",e)}setDay(e){this.daySelected=e,a.setLocalPickerDay(e)}setMonth(e){this.monthSelected=e,a.setLocalPickerMonth(e)}setYear(e){this.yearSelected=e,a.setLocalPickerYear(e)}setDateSelected(e){this.dateSelected=e,a.setLocalPickerDateSelected(e)}setDate(e,t,o){this.setYear(e),this.setMonth(t),this.setDay(o)}setPrevMonth(){const e=new Date(this.getYear(),this.getMonth()-1,this.getDay());this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}setNextMonth(){const e=new Date(this.getYear(),this.getMonth()+1,this.getDay());this.setDate(e.getFullYear(),e.getMonth(),e.getDate())}getDateSelected(){return+a.getLocalPickerDateSelected()}getDay(){return+a.getLocalPickerDay()}getMonth(){return+a.getLocalPickerMonth()}getYear(){return+a.getLocalPickerYear()}getDate(){return new Date(this.getYear(),this.getMonth(),this.getDay())}getToday(){return this.date}getMonthName(){return n.monthsLong[this.getMonth()]}getDaysInMonth(){return new Date(this.getYear(),this.getMonth()+1,0).getDate()}getMonthArrayStartDay(){return new Date(this.getYear(),this.getMonth(),1).getDay()}getMonthArrayStart(){let e=[],[t,o]=[this.getYear(),this.getMonth()];for(let s=0;s<this.getMonthArrayStartDay();s++)e.push(new Date(t,o,0-s));return e}getMonthArrayEndDay(){return new Date(this.getYear(),this.getMonth()+1,0).getDay()}getMonthArrayEnd(){let e=[],[t,o]=[this.getYear(),this.getMonth()];for(let s=1;s<7-this.getMonthArrayEndDay();s++)e.push(new Date(t,+o+1,s));return e}getMonthArray(){let e=[],t=this.getMonthArrayStart();for(let o=t.length-1;o>=0;o--)e.push(t[o]);let[o,s]=[this.getYear(),this.getMonth()];for(let t=1;t<=this.getDaysInMonth();t++)e.push(new Date(o,s,t));let n=this.getMonthArrayEnd();for(let t=0;t<n.length;t++)t===n.length-1&&n[t].setHours(23,59,59,999),e.push(n[t]);return e}}const i=new r,c=new a;i.setDefaults(),c.setDefaults();const l=i},"./src/context/constants.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});const s=["animationStatus","colorScheme","component","ctg","dateSelected","daySelected","keyboardShortcutsStatus","monthSelected","pickerDateSelected","pickerDaySelected","pickerMonthSelected","pickerYearSelected","refresh","sidebarState","store","yearSelected"]},"./src/context/store.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var s=o("./src/factory/entries.js"),n=o("./src/context/constants.js"),r=o("./src/utilities/dateutils.js"),a=o("./src/locales/en.js"),i=o("./src/locales/kbDefault.js");const c=a.default.colors;class l{constructor(){this.store=localStorage.getItem("store")?JSON.parse(localStorage.getItem("store")):[],this.userUpload,this.ctg=localStorage.getItem("ctg")?JSON.parse(localStorage.getItem("ctg")):{default:{color:c.blue[4],active:!0}},this.activeOverlay=new Set,this.handleRenders={sidebar:{callback:null},datepicker:{reset:null},form:{callback:null},reconfig:{callback:null},categories:{callback:null},calendars:{previous:{reset:null},month:{reset:null,resize:null},week:{reset:null,render:null},day:{reset:null},list:{reset:null}}},this.keyboardShortcuts=i.default,this.keyboardShortcutsStatus=!0,this.animationStatus=!0}setStoreForTesting(e){this.store=e,l.setStore(this.store)}getStoreStats(){return[this.store.length,this.getAllCtgNames().length]}getAllMethodNames(){return Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter((e=>"constructor"!==e&&"getStoreStats"!==e))}static getStore(){return JSON.parse(localStorage.getItem("store"))||[]}static getActiveStore(){return JSON.parse(localStorage.getItem("activeStore"))||[]}static getCtg(){return JSON.parse(localStorage.getItem("ctg"))||[]}static getShortcutsStatus(){return JSON.parse(localStorage.getItem("keyboardShortcutsStatus"))}static getAnimationStatus(){return JSON.parse(localStorage.getItem("animationStatus"))}static setStore(e){localStorage.setItem("store",JSON.stringify(e))}static setActiveStore(e){localStorage.setItem("activeStore",JSON.stringify(e))}static setCtg(e){localStorage.setItem("ctg",JSON.stringify(e))}static setShortcutsStatus(e){localStorage.setItem("keyboardShortcutsStatus",JSON.stringify(e))}static setAnimationStatus(e){localStorage.setItem("animationStatus",JSON.stringify(e))}addEntry(e){this.store.push(e),l.setStore(this.store)}createEntry(...e){this.addEntry(new s.default(...e)),l.setStore(this.store)}deleteEntry(e){this.store=this.store.filter((t=>t.id!==e)),l.setStore(this.store)}getActiveEntries(){const e=this.getActiveCategories();if(!e)return[];return this.store.filter((t=>e?e.indexOf(t.category)>-1:[]))}getEntry(e){return this.store.find((t=>t.id===e))}getEntries(){return this.store||[]}getEntriesByCtg(e){return this.store.filter((t=>t.category===e))}removeLastEntry(){this.store.pop(),l.setStore(this.store)}getLastEntryId(){return this.store[this.store.length-1].id}compareEntries(e,t){for(let o in e)if("id"!==o&&"coordinates"!==o)if("end"===o||"start"===o){if(new Date(e[o]).getTime()-new Date(t[o]).getTime()!=0)return!1}else if(e[o]!==t[o])return!1;return!0}updateEntry(e,t){let o=this.getEntry(e);o=Object.assign(o,t),l.setStore(this.store)}searchBy(e,t,o){if(0!==e.length)return e.filter((e=>e[t].toLowerCase().slice(0,o.length)===o))}sortBy(e,t,o){if(0!==e.length)return"desc"===o?e.sort(((e,o)=>"start"===t?new Date(e.start)-new Date(o.start):"end"===t?new Date(e.end)-new Date(o.end):"description"===t||"title"===t||"category"===t?e[t].localeCompare(o[t]):e[t]-o[t])):e.sort(((e,o)=>"start"===t?new Date(o.start)-new Date(e.start):"end"===t?new Date(o.end)-new Date(e.end):"description"===t||"title"===t||"category"===t?o[t].localeCompare(e[t]):o[t]-e[t]))}getFirstAndLastEntry(){let e=this.sortBy(this.getActiveEntries(),"start","desc");return void 0===e?[0,0]:[e[0].start,e[e.length-1].end]}generateCoordinates(e,t){[e,t]=[(0,r.testDate)(e),(0,r.testDate)(t)];let o=4*e.getHours()+Math.floor(e.getMinutes()/15),s=4*t.getHours()+Math.floor(t.getMinutes()/15)-o,n=o+s;return(0,r.compareDates)(e,t)?{allDay:!1,x:e.getDay(),y:o,h:s,e:n}:{allDay:!0,x:e.getDay(),x2:t.getDay()}}getDayEntries(e){let t=this.getActiveEntries(),o={allDay:[],day:[]};return 0===t.length||t.filter((t=>{let o=new Date(t.start);const[s,n,r]=[o.getFullYear(),o.getMonth(),o.getDate()];return s===e.getFullYear()&&n===e.getMonth()&&r===e.getDate()})).forEach((e=>{e.coordinates=this.generateCoordinates(new Date(e.start),new Date(e.end)),e.coordinates.allDay?o.allDay.push(e):o.day.push(e)})),o}getDayEntriesArray(e){let t=this.getActiveEntries();return 0===t.length?[]:t.filter((t=>{let o=new Date(t.start);const[s,n,r]=[o.getFullYear(),o.getMonth(),o.getDate()];return s===e.getFullYear()&&n===e.getMonth()&&r===e.getDate()}))}getMonthEntries(e){let t=this.getActiveEntries();return 0===t.length?[]:t.filter((t=>{let o=new Date(t.start);return o>=e[0]&&o<=e[e.length-1]}))}getMonthEntryDates(e){let t=this.getMonthEntries(e),o={};return t.forEach((e=>{let t=new Date(e.start);const[s,n,r]=[t.getFullYear(),t.getMonth(),t.getDate()];let a=`${s}-${n}-${r}`;o[a]||(o[a]=[]),o[a].push(e)})),Object.keys(o)}getGroupedMonthEntries(e){return e.reduce(((e,t)=>{let o=new Date(t.start).getDate();return e[o]||(e[o]=[]),e[o].push(t),e}),{})}getWeekEntries(e){let t=this.getActiveEntries(),[o,s]=[e[0],e[6]],n={allDay:[],day:[]};return 0===t.length||t.filter((e=>{let t=new Date(e.start);return t>=o&&t<=s})).forEach((e=>{e.coordinates=this.generateCoordinates(new Date(e.start),new Date(e.end)),e.coordinates.allDay?n.allDay.push(e):n.day.push(e)})),n}getYearEntries(e){let t=this.getActiveEntries();return 0===t.length?[]:t.filter((t=>new Date(t.start).getFullYear()===e))}getGroupedYearEntries(e){let t={};return e.forEach((e=>{let o=new Date(e.start),s=o.getMonth(),n=o.getDate();t[s]||(t[s]={}),t[s][n]||(t[s][n]=[]),t[s][n].push(e)})),t}addNewCtg(e,t){this.hasCtg(e)||(this.ctg[e]={color:t,active:!0},l.setCtg(this.ctg))}deleteCategory(e){this.hasCtg(e)&&(delete this.ctg[e],l.setCtg(this.ctg))}getDefaultCtg(){return Object.entries(this.ctg)[0]}getFirstActiveCategory(){for(let[e,t]of Object.entries(this.ctg))if(t.active)return e;return"default"}getFirstActiveCategoryKeyPair(){for(let[e,t]of Object.entries(this.ctg))if(t.active)return[e,t.color];const e=this.getDefaultCtg();return[e[0],e[1].color]}getActiveCategories(){let e=Object.keys(this.ctg).filter((e=>this.ctg[e].active));if(e.length>0)return e;e=[]}getActiveCategoriesKeyPair(){return Object.entries(this.ctg).filter((e=>e[1].active))}getAllCtg(){return this.ctg}getAllCtgColors(){return Object.values(this.ctg).map((e=>e.color))}getAllCtgNames(){return Object.keys(this.ctg)}getCategoryStatus(e){if(this.ctg.hasOwnProperty(e))return this.ctg[e].active}getCtgColor(e){return this.ctg[e].color}getCtgLength(e){return this.store.filter((t=>t.category===e)).length}hasCtg(e){let t=!1;for(let o in this.ctg)o.toLowerCase()===e.toLowerCase()&&(t=!0);return t}moveCategoryEntriesToNewCategory(e,t,o){(this.hasCtg(e)||!0===o)&&(this.store.forEach((o=>{o.category===e&&(o.category=t)})),l.setStore(this.store)),this.deleteCategory(e)}removeCategoryAndEntries(e){this.hasCtg(e)&&(this.store=this.store.filter((t=>t.category!==e)),l.setStore(this.store)),this.deleteCategory(e)}setCategoryStatus(e,t){this.hasCtg(e)&&(this.ctg[e].active=t,l.setCtg(this.ctg))}setAllCategoryStatusExcept(e,t){for(let o in this.ctg)this.ctg[o].active=o!==e?t:!t;l.setCtg(this.ctg)}updateCtgColor(e,t){this.hasCtg(e)&&(this.ctg[e].color=t,l.setCtg(this.ctg))}getCtgIndex(e){return Object.keys(this.ctg).indexOf(e)}updateCtg(e,t,o){let s=Object.entries(this.ctg),n=null!==t,r=0,a=s.length;var i;i=e,!isNaN(parseFloat(i))&&isFinite(i)&&(e="category "+e);for(let[a,i]of s)r++,1===r?o===a&&(s[0][0]=e,n&&(s[0][1].color=t)):o===a&&(s[r-1][0]=e,n&&(s[r-1][1].color=t));s.length===a?(this.ctg=Object.fromEntries(s),this.moveCategoryEntriesToNewCategory(o,e,!0),l.setCtg(this.ctg)):console.error("something went wrong with category name/color change")}getShortcuts(){return this.keyboardShortcuts}setShortCut(e){return Object.keys(this.getShortcuts()).indexOf(e)>-1?`Shortcut (${e}) is already in use`:void 0}setShortcutsStatus(e){this.keyboardShortcutsStatus=e,l.setShortcutsStatus(e)}getShortcutsStatus(){const e=l.getShortcutsStatus();return null===e||e}getAnimationStatus(){const e=l.getAnimationStatus();return null===e||e}setAnimationStatus(e){this.animationStatus=e,l.setAnimationStatus(e)}addActiveOverlay(e){this.activeOverlay.add(e)}removeActiveOverlay(e){return 0===this.activeOverlay.size?void 0:1===this.activeOverlay.size?void(this.activeOverlay=new Set):void(this.activeOverlay=new Set([...this.activeOverlay].filter((t=>t!==e))))}getActiveOverlay(){return this.activeOverlay}hasActiveOverlay(){return this.activeOverlay.size>0}validateUserUpload(e){const t=Object.keys(e);let o={};t.length>n.default.length&&(o.err1="invalid number of keys (too many)");for(let e=0;e<t.length;e++)if(!n.default.includes(t[e])){o["err"+Object.keys(o).length]="invalid key: "+t[e]}return!(Object.keys(o).length>0)||o}setUserUpload(e){const t=this.validateUserUpload(e);let o;if(!0!==t)return t;localStorage.clear(),o=!0;for(const[t,o]of Object.entries(e))localStorage.setItem(t,o);if(o){null===localStorage.getItem("refresh")&&(window.location.reload(),window.localStorage.setItem("refresh","1"))}}getUserUpload(){return this.userUpload}setFormRenderHandle(e,t){this.handleRenders.calendars[e].render=t}setFormResetHandle(e,t){this.handleRenders.calendars[e].reset=t}setRenderFormCallback(e){this.handleRenders.form.callback=e}setRenderSidebarCallback(e){this.handleRenders.sidebar.callback=e}setResizeHandle(e,t){this.handleRenders.calendars[e].resize=t}setDataReconfigCallback(e){this.handleRenders.reconfig.callback=e}setResetDatepickerCallback(e){this.handleRenders.datepicker.reset=e}setResetPreviousViewCallback(e){this.handleRenders.calendars.previous.reset=e}setRenderCategoriesCallback(e){this.handleRenders.categories.callback=e}getRenderCategoriesCallback(){return this.handleRenders.categories.callback}getResetPreviousViewCallback(){return this.handleRenders.calendars.previous.reset}getResetDatepickerCallback(){return this.handleRenders.datepicker.reset}getDataReconfigCallback(){return this.handleRenders.reconfig.callback}getResizeHandle(e){return void 0===this.handleRenders.calendars[e]?null:this.handleRenders.calendars[e].resize}getFormRenderHandle(e){return void 0===this.handleRenders.calendars[e]?null:this.handleRenders.calendars[e].render}getFormResetHandle(e){return void 0===this.handleRenders.calendars[e].reset?null:this.handleRenders.calendars[e].reset}getRenderFormCallback(){const e=this.handleRenders.form.callback;return null!==e?e:null}getRenderSidebarCallback(){const e=this.handleRenders.sidebar.callback;return null!==e?e:null}}const d=new l},"./src/factory/entries.js":(e,t,o)=>{o.r(t),o.d(t,{CoordinateEntry:()=>r,Day:()=>i,Week:()=>a,default:()=>n});var s=o("./src/utilities/helpers.js");class n{constructor(e,t,o,n,r,a){this.category=e,this.completed=t,this.description=o,this.end=n,this.id=(0,s.generateId)(),this.start=r,this.title=a}}class r{constructor(e,t,o,s,n,r){this.category=e,this.completed=t||!1,this.coordinates=o||{},this.description=s,this.id=n,this.title=r}}class a{constructor(e,t){this.boxes=e,this.boxesTop=t}setAllBoxes(e){this.boxes=e.day,this.boxesTop=e.allDay}addBox(e){this.boxes.push(e)}addBoxTop(e){this.boxesTop.push(e)}getBox(e){return this.boxes.find((t=>t.id===e))}getBoxes(){return this.boxes}getBoxesTop(){return this.boxesTop}getLength(){return this.boxes.length}getBoxesByColumn(e){return this.boxes.filter((t=>+t.coordinates.x==e))}getBoxesByColumnTop(e){return this.boxesTop.filter((t=>+t.coordinates.x==e))}getBoxesTopByDay(e){return this.boxesTop.filter((t=>+t.coordinates.y==e))}getBoxesTopLengths(){return this.getBoxesTop().reduce(((e,t)=>{let o=new Date(t.start);return e[o.getDay()]?e[o.getDay()]++:e[o.getDay()]=1,e}),{})}getColumnsWithMultipleBoxes(){let e={},t=[];for(const o of this.boxes)e[o.coordinates.x]?(e[o.coordinates.x]++,2===e[o.coordinates.x]&&t.push(o.coordinates.x)):e[o.coordinates.x]=1;return t}getEntriesByTitle(e){return this.boxes.filter((t=>t.title.toLowerCase().includes(e.toLowerCase())))}updateCoordinates(e,t){this.getBox(e).coordinates=t}sortByY(e){return e.sort(((e,t)=>+e.coordinates.y-+t.coordinates.y))}checkForCollision(e){const t=this.getBoxesByColumn(e);let o=[];for(let e=0;e<t.length;e++)for(let s=e+1;s<t.length;s++){const n=t[e],r=t[s];n.coordinates.y<r.coordinates.e&&n.coordinates.e>r.coordinates.y&&(o.includes(n)||o.push(n),o.includes(r)||o.push(r))}return o.sort(((e,t)=>+e.coordinates.y-+t.coordinates.y))}updateStore(e,t,o){const s=this.getBox(t).coordinates;let n=15*+s.y,r=15*+s.e,a=o[+s.x];const i=new Date(a),c=Math.floor(n/60),l=n%60;i.setHours(c),i.setMinutes(l);const d=new Date(a),u=Math.floor(r/60),m=r%60;d.setHours(u),d.setMinutes(m),e.updateEntry(t,{start:i,end:d})}}class i{constructor(e,t){this.boxes=e,this.boxesTop=t}setAllBoxes(e){this.boxes=e.day,this.boxesTop=e.allDay}addBox(e){this.boxes.push(e)}addBoxTop(e){this.boxesTop.push(e)}getBox(e){return this.boxes.find((t=>t.id===e))}getBoxes(){return this.boxes}getBoxesTop(){return this.boxesTop}getAllBoxes(){return[...this.boxes,...this.boxesTop]}getLength(){return this.boxes.length}getBoxesTopLengths(){return this.getBoxesTop().reduce(((e,t)=>{let o=new Date(t.start);return e[o.getDay()]?e[o.getDay()]++:e[o.getDay()]=1,e}),{})}getEntriesByTitle(e){return this.boxes.filter((t=>t.title.toLowerCase().includes(e.toLowerCase())))}updateCoordinates(e,t){this.getBox(e).coordinates=t}getEntriesEndingOnDay(e){return this.boxes.filter((t=>+t.coordinates.e===e))}sortByY(e){return e.sort(((e,t)=>{let o=+e.coordinates.y-+t.coordinates.y;return 0===o?+e.coordinates.e-+t.coordinates.e:o}))}checkForCollision(){const e=this.getBoxes();let t=[];for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){const n=e[o],r=e[s];n.coordinates.y<r.coordinates.e&&n.coordinates.e>r.coordinates.y&&(t.includes(n)||t.push(n),t.includes(r)||t.push(r))}return t.sort(((e,t)=>+e.coordinates.y-+t.coordinates.y))}updateStore(e,t){const o=this.getBox(t),s=o.coordinates;let n=15*+s.y,r=15*+s.e;const a=new Date(o.start),i=Math.floor(n/60),c=n%60;a.setHours(i),a.setMinutes(c);const l=new Date(o.start);let d=Math.floor(r/60),u=r%60;24===d&&(d=23,u=59),l.setHours(d),l.setMinutes(u),e.updateEntry(t,{start:a,end:l})}}},"./src/factory/queries.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});const s=class{constructor(e){this.flag=e,this.tops=[20,20],this.heights=[18,18]}updateFlag(){this.flag=window.innerWidth<=530||window.innerHeight<=470}getFlag(){return this.flag}getTop(){const[e,t]=this.tops;return this.flag?e:t}getHeight(){const[e,t]=this.heights;return this.flag?e:t}getPrevTop(e){const[t,o]=this.tops;return e===t?o:t}}},"./src/locales/en.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});const s={labels:{monthsLong:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShortLower:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],monthsLongLower:["january","february","march","april","may","june","july","august","september","october","november","december"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysLong:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysNarrow:["S","M","T","W","T","F","S"]},colors:{red:{1:"#DF2A79",2:"#A51955",3:"#73113C",4:"#C20000",5:"#9D0000",6:"#690000",7:"#460000"},orange:{1:"#EE756A",2:"#E84334",3:"#E77C2B",4:"#D56A18",5:"#954A11",6:"#6B350C",7:"#402007"},green:{1:"#1E9E98",2:"#1A8A84",3:"#167671",4:"#115855",5:"#0F4E4B",6:"#09312F",7:"#072726"},blue:{1:"#14489A",2:"#125ab8",3:"#5578D7",4:"#2C52BA",5:"#234295",6:"#1B3375",7:"#142555"},purple:{1:"#42338B",2:"#513FAB",3:"#614E7A",4:"#604793",5:"#49356F",6:"#342650",7:"#271D3C"},grey:{1:"#858F93",2:"#4D5458",3:"#272B2C",4:"#202B31",5:"#2C3C44",6:"#384C56",7:"#516C7B"}}}},"./src/locales/kbDefault.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});const s={0:{shortcut:"0",action:"change app theme"},1:{shortcut:["1","D"],action:"open day view"},2:{shortcut:["2","W"],action:"open week view"},3:{shortcut:["3","M"],action:"open month view"},4:{shortcut:["4","Y"],action:"open year view"},5:{shortcut:["5","L"],action:"open list view"},6:{shortcut:"v",action:"toggle view options"},7:{shortcut:"t",action:"set date to today"},8:{shortcut:"g",action:"enter date manually"},9:{shortcut:"n",action:"next period"},10:{shortcut:"p",action:"previous period"},11:{shortcut:"s",action:"toggle sidebar"},12:{shortcut:"f",action:"open form"},13:{shortcut:"+",action:"open new category form"},14:{shortcut:"a",action:"open settings"},15:{shortcut:["/","?"],action:"open keyboard shortcuts"},16:{shortcut:"e",action:"(entry options) opens form with entry details"},17:{shortcut:"â†‘",action:["(datepicker) set date to next month/week","(yearpicker) set year to next year"]},18:{shortcut:"â†“",action:["(datepicker) set date to prev month/week","(yearpicker) set year to prev year"]},19:{shortcut:"â†",action:["(datepicker) set date to prev day","(monthpicker) set month to prev month"]},20:{shortcut:"â†’",action:["(datepicker) set date to next day","(monthpicker) set month to next month"]},21:{shortcut:"DELETE",action:"(entry options) delete entry"},22:{shortcut:"ENTER",action:["(datepicker) set date to selected date","(form) submit form"]},23:{shortcut:"ESCAPE",action:"close any active modal/popup/form"}}},"./src/utilities/dateutils.js":(e,t,o)=>{o.r(t),o.d(t,{compareDates:()=>g,createDateFromFormattedString:()=>v,createTimestamp:()=>M,default:()=>i,formatDateForDisplay:()=>m,formatDuration:()=>p,formatEntryOptionsDate:()=>E,formatStartEndDate:()=>h,formatStartEndTime:()=>y,generateTempStartEnd:()=>D,getDateForStore:()=>d,getDateFormatted:()=>l,getDateFromAttribute:()=>S,getDateTimeFormatted:()=>x,getDayOrdinal:()=>q,getDuration:()=>f,getDurationSeconds:()=>A,getFormDateObject:()=>L,getTempDates:()=>k,getTimeFromAttribute:()=>C,getdatearray:()=>u,isBeforeDate:()=>b,isDate:()=>w,longerThanDay:()=>$,sortDates:()=>_,testDate:()=>c});var s=o("./src/utilities/timeutils.js"),n=o("./src/locales/en.js");const r=n.default.labels,a=r.monthsShort;function i(e,t,o){const s=e=>e<10?`0${e}`:e;return Date.prototype.toCustomISO=function(){return this.getFullYear()+"-"+s(this.getMonth()+1)+"-"+s(this.getDate())+"T"+s(this.getHours())+":"+s(this.getMinutes())+":"+s(this.getSeconds())+"."+(this.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},e||t||o?new Date(e,t,o,0,0,0,0).toCustomISO().slice(0,10):(new Date).toCustomISO()}function c(e){return e instanceof Date&&!isNaN(e)?e:new Date(e)}function l(e){return`${(e=c(e)).getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function d(e){return`${(e=c(e)).getFullYear()}-${e.getMonth()}-${e.getDate()}`}function u(e){return[+e.getFullYear(),+e.getMonth()+1,+e.getDate()]}function m(e){e=c(e);const t=n.default.labels.monthsShort[e.getMonth()],o=e.getDate();let s=e.getHours(),r=e.getMinutes();s=s<10?`0${s}`:s,r=r<10?`0${r}`:r;let a=`${s}:${r}`;return`${t} ${o} ${e.getFullYear()}, (${a}) `}function g(e,t){return[e,t]=[c(e),c(t)],e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function p(e){let t={year:31536e3,day:86400,hour:3600},o=[];if(0===e)return"now";for(let s in t)if(e>=t[s]){let n=Math.floor(e/t[s]);o.push(n+=n>1?" "+s+"s":" "+s),e%=t[s]}return o.length>1?o.join(", ").replace(/,([^,]*)$/," &$1"):o[0]}function h(e,t,o){[e,t]=[c(e),c(t)];const[s,n,r]=[e.getDate(),a[e.getMonth()],e.getFullYear()],[i,l,d]=[t.getDate(),a[t.getMonth()],t.getFullYear()];let u=r,m=d;return o&&(u=r.toString().slice(2,4),m=d.toString().slice(2,4)),r===d?n===l?s===i?`${n} ${s} ${r}`:`${n} ${s} â€“ ${i}, ${r}`:`${n} ${s} â€“ ${l} ${i}, ${r}`:`${n} ${s}, ${u} â€“ ${l} ${i}, ${m}`}function y(e,t){[e,t]=[new Date(e),new Date(t)];let o=e.getMinutes(),n=t.getMinutes();n=n%15==0?n:n+(15-n%15),o=o%15==0?o:o+(15-o%15);let r=(0,s.formatTime)(e.getHours(),o),a=(0,s.formatTime)(t.getHours(),n);return r.slice(-2)===a.slice(-2)&&(r=r.slice(0,-2)),`${r} â€“ ${a}`}function f(e,t){[e,t]=[new Date(e),new Date(t)];const o=p(Math.floor(t.getTime()/1e3)-Math.floor(e.getTime()/1e3));return void 0===o?"completed":o}function v(e){const t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function b(e,t){return[e,t]=[new Date(e),new Date(t)],e.getTime()<t.getTime()}function w(e){return e instanceof Date&&!isNaN(e)}function S(e,t,o){return e.getAttribute(t).split("-").map(((e,t)=>"month"===o&&1===t?parseInt(e)-1:parseInt(e)))}function C(e,t){return e.getAttribute(t).split(":").map((e=>parseInt(e)))}function x(e,t,o){return e=c(e),new Date(e.getFullYear(),e.getMonth(),e.getDate(),parseInt(t),parseInt(o),1,1)}function k(e,t,o){return[x(e=c(e),t[0],o[0]),x(e,t[1],o[1])]}function D(e){let t=new Date;const[o,s,n]=e;let r=new Date(o,s,n);r.setHours(t.getHours()),r.setMinutes(0);let a=new Date(r);return a.setHours(t.getHours()),a.setMinutes(30),[r,a]}function L(e,t){[e,t]=[c(e),c(t)];const o=e=>0===e?"00":e;return{dateObj:[e,t],minutes:[o(e.getMinutes()),o(t.getMinutes())],formatted:[d(e),d(t)]}}function _(e,t){return e.sort(((e,o)=>{let[s,n]=[new Date(e),new Date(o)];return"asc"===t?s-n:n-s}))}function A(e,t){return Math.floor(t.getTime()/1e3)-Math.floor(e.getTime()/1e3)}function E(e,t){let[o,n]=[e.getFullYear(),t.getFullYear()],[a,i]=[e.getMonth(),t.getMonth()],[c,l]=[e.getDate(),t.getDate()],[d,u]=[e.getHours(),t.getHours()],[m,g]=[e.getMinutes(),t.getMinutes()],h=!1,y=new Date;if(b(e,y)&&(h=!0),o===n){if(a===i){if(c===l){let n=function(e){let t={hour:3600,minute:60},o=[];if(0===e)return"now";for(let s in t)if(e>=t[s]){let n=Math.floor(e/t[s]);o.push(n+=n>1?" "+s+"s":" "+s),e%=t[s]}return o.length>1?o.join(", ").replace(/,([^,]*)$/," &$1"):o[0]}(A(h?y:e,t));return{date:`${r.monthsLong[a]} ${c}, ${o} (${(0,s.formatStartEndTimes)([d,u],[m,g])})`,time:n}}{let s=p(A(h?y:e,t));return{date:`${r.monthsLong[a]} ${c} â€“ ${l}, ${o}`,time:s}}}{let o=p(A(h?y:e,t));return{date:`${r.monthsShort[a]} ${c} â€“ ${r.monthsShort[i]} ${l}, ${n}`,time:o}}}{let s=p(A(h?y:e,t));return{date:`${r.monthsShort[a]} ${c}, ${o} â€“ ${r.monthsShort[i]} ${l}, ${n}`,time:s}}}function M(){const e=new Date;e.getFullYear().toString().slice(-2);return`${a[e.getMonth()].toUpperCase()}${parseInt(e.getDate())}`}function $(e,t){return A(e,t)>86400}function q(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},"./src/utilities/dragutils.js":(e,t,o)=>{o.r(t),o.d(t,{calcDateOnClick:()=>v,calcNewHourFromCoords:()=>y,calcNewMinuteFromCoords:()=>f,createBox:()=>d,createTempBoxHeader:()=>p,createTemporaryBox:()=>u,default:()=>S,getBoxDefaultStyle:()=>m,getOriginalBoxObject:()=>b,resetOriginalBox:()=>w,resetStyleOnClick:()=>g,setBoxTimeAttributes:()=>l,setStylingForEvent:()=>i,startEndDefault:()=>h,updateBoxCoordinates:()=>c});var s=o("./src/utilities/timeutils.js");const n={boxnumarr:{week:["box-one","box-two","box-three","box-four","box-five","box-six","box-seven","box-eight","box-nine","box-ten","box-eleven","box-twelve","box-thirteen","box-fourteen","box-fifteen"],day:["dv-box-one","dv-box-two","dv-box-three","dv-box-four","dv-box-five","dv-box-six","dv-box-seven","dv-box-eight","dv-box-nine","dv-box-ten","dv-box-eleven","dv-box-twelve","dv-box-thirteen","dv-box-fourteen","dv-box-fifteen"]},boxClasses:{week:{base:"box",ontop:"box-ontop",active:"box-mv-dragactive",temporary:"temporary-box",prepend:"box-"},day:{base:"dv-box",ontop:"dv-box-ontop",active:"dv-box-mv-dragactive",temporary:"dv-temporary-box",prepend:"dv-box-"}},boxAttributes:{week:{updatecoord:["data-box-id","data-start-time","data-time-intervals"],dataIdx:"box-idx",dataId:"data-box-id",dataCol:"data-box-col",prepend:"data-",prepentwo:"data-wv-"},day:{updatecoord:["data-dv-box-id","data-dv-start-time","data-dv-time-intervals"],dataIdx:"data-dv-box-index",dataId:"data-dv-box-id",prepend:"data-dv-",prepentwo:"data-dv-"}},styles:{newBox:{left:"calc((100% - 0px) * 0 + 0px)",height:"12.5px",width:"calc((100% - 4px) * 1)"}}};function r(e,t,o){switch(e.getAttribute(o)){case`${t}one`:e.style.left="calc((100% - 0px) * 0 + 0px)",e.style.width="calc((100% - 4px) * 1)";break;case`${t}two`:e.style.left="calc((100% - 0px) * 0.2 + 0px)",e.style.width="calc((100% - 4px) * 0.80)";break;case`${t}three`:e.style.left="calc((100% - 0px) * 0.45 + 0px)",e.style.width="calc((100% - 4px) * 0.55)";break;case`${t}four`:e.style.left="calc((100% - 0px) * 0.0 + 0px)",e.style.width="calc((100% - 4px) * 0.44)";break;case`${t}five`:e.style.left="calc((100% - 0px) * .5 + 0px)",e.style.width="calc((100% - 4px) * 0.35)";break;case`${t}six`:e.style.left="calc((100% - 0px) * 0.1 + 0px)",e.style.width="calc((100% - 4px) * 0.4)";break;case`${t}seven`:e.style.left="calc((100% - 0px) * 0.5 + 0px)",e.style.width="calc((100% - 4px) * 0.5)";break;case`${t}eight`:e.style.left="calc((100% - 0px) * 0.25 + 0px)",e.style.width="calc((100% - 4px) * 0.25)";break;case`${t}nine`:e.style.left="calc((100% - 0px) * 0.55 + 0px)",e.style.width="calc((100% - 4px) * 0.35)";break;case`${t}ten`:e.style.left="calc((100% - 0px) * 0.55 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}eleven`:e.style.left="calc((100% - 0px) * 0.70 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}twelve`:e.style.left="calc((100% - 0px) * 0.85 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}thirteen`:e.style.left="calc((100% - 0px) * 0.05 + 0px)",e.style.width="calc((100% - 16px) * 0.25)";break;case`${t}fourteen`:e.style.left="calc((100% - 0px) * 0.30 + 0px)",e.style.width="calc((100% - 16px) * 0.25)";break;case`${t}fifteen`:e.style.left="calc((100% - 0px) * 0.55 + 0px)",e.style.width="calc((100% - 16px) * 0.25)"}}function a(e,t,o){switch(e.getAttribute(o)){case`${t}one`:e.style.left="calc((100% - 0px) * 0 + 0px)",e.style.width="calc((100% - 4px) * 1)";break;case`${t}two`:e.style.left="calc((100% - 0px) * 0.15 + 0px)",e.style.width="calc((100% - 4px) * 0.85)";break;case`${t}three`:e.style.left="calc((100% - 0px) * 0.30 + 0px)",e.style.width="calc((100% - 4px) * 0.70)";break;case`${t}four`:e.style.left="calc((100% - 0px) * 0.45 + 0px)",e.style.width="calc((100% - 4px) * 0.55)";break;case`${t}five`:e.style.left="calc((100% - 0px) * 0.60 + 0px)",e.style.width="calc((100% - 4px) * 0.40)";break;case`${t}six`:e.style.left="calc((100% - 0px) * 0.75 + 0px)",e.style.width="calc((100% - 4px) * 0.25)";break;case`${t}seven`:e.style.left="calc((100% - 0px) * 0.10 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}eight`:e.style.left="calc((100% - 0px) * 0.25 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}nine`:e.style.left="calc((100% - 0px) * 0.4 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}ten`:e.style.left="calc((100% - 0px) * 0.55 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}eleven`:e.style.left="calc((100% - 0px) * 0.70 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}twelve`:e.style.left="calc((100% - 0px) * 0.85 + 0px)",e.style.width="calc((100% - 16px) * 0.15)";break;case`${t}thirteen`:e.style.left="calc((100% - 0px) * 0.05 + 0px)",e.style.width="calc((100% - 16px) * 0.25)";break;case`${t}fourteen`:e.style.left="calc((100% - 0px) * 0.30 + 0px)",e.style.width="calc((100% - 16px) * 0.25)";break;case`${t}fifteen`:e.style.left="calc((100% - 0px) * 0.55 + 0px)",e.style.width="calc((100% - 16px) * 0.25)"}}function i(e,t,o){const s=document.querySelector(".sidebar"),n=document.querySelector(".resize-overlay");switch(e){case"dragstart":s.classList.contains("hide-sidebar")||0===t.offsetLeft&&s.classList.add("sidebar--dragged-over"),o.addActiveOverlay("hide-resize-overlay"),n.classList.remove("hide-resize-overlay");break;case"dragend":o.removeActiveOverlay("hide-resize-overlay"),s.classList.remove("sidebar--dragged-over"),n.classList.add("hide-resize-overlay"),document.body.style.cursor="default"}}function c(e,t,o){let[s,r,a]=n.boxAttributes[t].updatecoord.map((t=>e.getAttribute(t))),i="week"===t?e.getAttribute("data-box-col"):1;o.updateCoordinates(s,{x:parseInt(i),y:parseInt(r),h:parseInt(a),e:parseInt(r)+parseInt(a)})}function l(e,t){let o=+e.style.top.split("px")[0];o=o>=0?o/12.5:0;let s=+e.style.height.split("px")[0]/12.5,r=o+s,a=n.boxAttributes[t].prepend;e.setAttribute(`${a}start-time`,o),e.setAttribute(`${a}time-intervals`,s),e.setAttribute(`${a}end-time`,r)}function d(e,t,o,r){const a=n.boxClasses[o].base,i=n.boxAttributes[o].prepend,c=n.boxAttributes[o].prependtwo,l=t.coordinates,d=document.createElement("div");d.classList.add(a),d.style.backgroundColor=r,d.style.top=12.5*+l.y+"px",d.style.height=12.5*+l.h+"px",d.style.left="calc((100% - 0px) * 0 + 0px)",d.style.width="calc((100% - 4px) * 1)";const u=document.createElement("div");u.classList.add(`${a}__header`);const m=document.createElement("div");m.classList.add(`${a}-title`),m.textContent=t.title,u.appendChild(m);const g=document.createElement("div");g.classList.add(`${a}__content`);const p=document.createElement("span");p.classList.add(`${a}-time`),g.appendChild(p);const h=document.createElement("div");h.classList.add(`${a}-resize-s`),"true"===e.getAttribute(`${c}top`)?(d.setAttribute(`${c}start`,l.x),d.setAttribute(`${c}end`,l.x2)):(d.setAttribute(`${i}start-time`,l.y),d.setAttribute(`${i}time-intervals`,l.h),d.setAttribute(`${i}end-time`,+l.y+ +l.h),"week"===o?(d.setAttribute("data-box-col",l.x),d.setAttribute("box-idx",1)):d.setAttribute("data-dv-box-index",1),p.textContent=(0,s.default)(l.y,+l.h)),d.setAttribute(`${i}box-id`,t.id),d.setAttribute(`${i}box-category`,t.category),d.append(u,g,h),e.appendChild(d)}function u(e,t,o,s){const r=e.cloneNode(!0);r.classList.add(`${n.boxClasses[s].temporary}`),o?t.insertBefore(r,e.nextElementSibling):t.appendChild(r)}function m(e,t){const o=n.styles.newBox;return`top:${e}px; left:${o.left}; height:${o.height}; width:${o.width}; background-color:${t};`}function g(e,t){t.setAttribute("class",n.boxClasses[e].base),t.style.left="calc((100% - 0px) * 0 + 0px)",t.style.width="calc((100% - 4px) * 1)"}function p(e){const t=n.boxClasses[e].base,o=document.createElement("div"),s=document.createElement("div");return o.classList.add(`${t}__header`),s.classList.add(`${t}-title`),s.textContent="(no title)",o.appendChild(s),o}function h(e){let t=Math.floor(e/12.5/4),o=15*Math.floor(e/12.5%4);return[t,o,t,+o+15]}function y(e,t){return Math.floor((e+t)/12.5/4)}function f(e,t){return 15*Math.floor((e+t)/12.5%4)}function v(e,t,o){let[s,n]=[new Date(e),new Date(e)];return s.setHours(Math.floor(+t/4)),s.setMinutes(15*+t%60),n.setHours(Math.floor((t+o)/4)),n.setMinutes(15*(t+o)%60),[s,n]}function b(e){return{height:e.style.height,left:e.style.left,width:e.style.width,class:e.getAttribute("class")}}function w(e,t){e.setAttribute("class",t.class),e.style.left=t.left,e.style.width=t.width}const S=function(e,t,o){const s="day"===t?o.checkForCollision():o.checkForCollision(e),i=n.boxnumarr[t],[c,l]=[n.boxClasses[t],n.boxClasses[t].prepend],[d,u]=[n.boxAttributes[t].dataIdx,n.boxAttributes[t].dataId];for(let e=0;e<s.length;e++){const o=document.querySelector(`[${u}="${s[e].id}"]`);let n=e;e>=15&&(n-=12),0===e?(o.setAttribute("class",`${c.base} ${i[n]}`),o.setAttribute(d,i[n])):(o.setAttribute("class",`${c.base} ${c.ontop} ${i[n]}`),o.setAttribute(d,i[n])),"day"===t?a(o,l,d):r(o,l,d)}}},"./src/utilities/helpers.js":(e,t,o)=>{function s(e,t){return e.target.closest(t)}function n(e,t){let o=0,s=0,n=0,r=t;return o="0x"+e[1]+e[2],s="0x"+e[3]+e[4],n="0x"+e[5]+e[6],"rgba("+ +o+","+ +s+","+ +n+","+r+")"}function r(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}o.r(t),o.d(t,{default:()=>d,generateId:()=>r,getClosest:()=>s,hextorgba:()=>n,isNumeric:()=>l,placePopup:()=>c,setTheme:()=>i,throttle:()=>a});const a=(e,t)=>{let o,s,n;return function(){const r=this,a=arguments;o?(clearTimeout(s),s=setTimeout((function(){Date.now()-n>=t&&(e.apply(r,a),n=Date.now())}),Math.max(t-(Date.now()-n),0))):(e.apply(r,a),n=Date.now(),o=!0)}};function i(e){const t=document.querySelector(".body"),o=document.getElementsByName("color-scheme")[0],s=e.getColorScheme(),n=t.classList.contains("light-mode"),r=t.classList.contains("contrast-mode");(()=>{if("light"===s&&n&&!r)return;if("dark"===s&&!n&&!r)return;if("contrast"===s&&r&&!n)return;"light"===s?(e.setColorScheme("light"),o.setAttribute("content","light"),t.classList.remove("contrast-mode"),t.classList.add("light-mode")):"contrast"===s?(e.setColorScheme("contrast"),o.setAttribute("content","dark"),t.classList.remove("light-mode"),t.classList.add("contrast-mode")):"dark"===s&&(e.setColorScheme("dark"),o.setAttribute("content","dark light"),t.classList.remove("light-mode"),t.classList.remove("contrast-mode"))})()}function c(e,t,o,s,n,r){const[a,i]=[e,t],[c,l]=o,[d,u]=s;let m;n?(m=c-a/2+r/2,e+c+4>=d&&(m=d-a-4)):m=c+a>d?c-a-6:c;let g=l+i>u?u-i-6:l;return m<0&&(m=Math.abs(m)),g<0&&(g=56),[m,g]}function l(e){return!isNaN(parseFloat(e))&&isFinite(e)}const d=function(e,t){let o;return function(...s){clearTimeout(o),o=setTimeout((()=>e.apply(this,s)),t)}}},"./src/utilities/svgs.js":(e,t,o)=>{o.r(t),o.d(t,{createCaretDownIcon:()=>d,createCaretRightIcon:()=>m,createCaretUpIcon:()=>u,createCategoryIcon:()=>r,createCheckBoxIcon:()=>p,createCheckIcon:()=>g,createCloseIcon:()=>l,createEditIcon:()=>a,createExpandDownIcon:()=>y,createMeatballVertIcon:()=>h,createPencilIcon:()=>i,createStatusIcon:()=>n,createTrashIcon:()=>c,default:()=>s});const s=40,n=()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("height","24"),e.setAttribute("width","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","var(--white3)"),e.classList.add("lvhi-status--icon");const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M0 0h24v24H0z"),t.setAttribute("fill","none");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"),e.append(t,o),e},r=()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("height","24"),e.setAttribute("width","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","var(--white3)");const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M0 0h24v24H0z"),t.setAttribute("fill","none");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"),e.classList.add("lvhi-category--icon"),e.append(t,o),e},a=()=>{const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("height","20"),e.setAttribute("width","20"),e.setAttribute("fill","var(--white3)");const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M10 16q-.625 0-1.062-.438Q8.5 15.125 8.5 14.5t.438-1.062Q9.375 13 10 13t1.062.438q.438.437.438 1.062t-.438 1.062Q10.625 16 10 16Zm0-4.5q-.625 0-1.062-.438Q8.5 10.625 8.5 10t.438-1.062Q9.375 8.5 10 8.5t1.062.438q.438.437.438 1.062t-.438 1.062q-.437.438-1.062.438ZM10 7q-.625 0-1.062-.438Q8.5 6.125 8.5 5.5t.438-1.062Q9.375 4 10 4t1.062.438q.438.437.438 1.062t-.438 1.062Q10.625 7 10 7Z"),e.appendChild(t),e},i=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","20"),t.setAttribute("width","20"),t.setAttribute("viewBox","0 0 24 24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white3)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M20.41 4.94l-1.35-1.35c-.78-.78-2.05-.78-2.83 0L3 16.82V21h4.18L20.41 7.77c.79-.78.79-2.05 0-2.83zm-14 14.12L5 19v-1.36l9.82-9.82 1.41 1.41-9.82 9.83z"),t.appendChild(o),t},c=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","24"),t.setAttribute("width","24"),t.setAttribute("viewBox","0 0 24 24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white3)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M15 4V3H9v1H4v2h1v13c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6h1V4h-5zm2 15H7V6h10v13z");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M9 8h2v9H9zm4 0h2v9h-2z"),t.append(o,s),t},l=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","20"),t.setAttribute("width","20"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white3)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M6.062 15 5 13.938 8.938 10 5 6.062 6.062 5 10 8.938 13.938 5 15 6.062 11.062 10 15 13.938 13.938 15 10 11.062Z"),t.appendChild(o),t},d=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","18"),t.setAttribute("width","18"),t.setAttribute("viewBox","0 0 24 24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white3)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M0 0h24v24H0z"),o.setAttribute("fill","none");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M7 10l5 5 5-5z"),t.append(o,s),t},u=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","18"),t.setAttribute("width","18"),t.setAttribute("viewBox","0 0 24 24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white3)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M0 0h24v24H0V0z"),o.setAttribute("fill","none");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M7 14l5-5 5 5H7z"),t.append(o,s),t},m=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","20"),t.setAttribute("width","20"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white3)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","m6 18.167-1.583-1.584L11 10 4.417 3.417 6 1.833 14.167 10Z"),t.appendChild(o),t},g=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","18px"),t.setAttribute("width","18px"),t.setAttribute("viewBox","0 0 24 24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white2)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M0 0h24v24H0z"),o.setAttribute("fill","none");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"),t.append(o,s),t},p=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","24"),t.setAttribute("width","24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white2)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","m10.6 16.2 7.05-7.05-1.4-1.4-5.65 5.65-2.85-2.85-1.4 1.4ZM5 21q-.825 0-1.413-.587Q3 19.825 3 19V5q0-.825.587-1.413Q4.175 3 5 3h14q.825 0 1.413.587Q21 4.175 21 5v14q0 .825-.587 1.413Q19.825 21 19 21Zm0-2h14V5H5v14ZM5 5v14V5Z"),t.appendChild(o),t},h=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","24"),t.setAttribute("width","24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white4)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M6 14q-.825 0-1.412-.588Q4 12.825 4 12t.588-1.413Q5.175 10 6 10t1.412.587Q8 11.175 8 12q0 .825-.588 1.412Q6.825 14 6 14Zm6 0q-.825 0-1.412-.588Q10 12.825 10 12t.588-1.413Q11.175 10 12 10t1.413.587Q14 11.175 14 12q0 .825-.587 1.412Q12.825 14 12 14Zm6 0q-.825 0-1.413-.588Q16 12.825 16 12t.587-1.413Q17.175 10 18 10q.825 0 1.413.587Q20 11.175 20 12q0 .825-.587 1.412Q18.825 14 18 14Z"),t.appendChild(o),t},y=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("height","18px"),t.setAttribute("width","18px"),t.setAttribute("viewBox","0 0 24 24"),e?t.setAttribute("fill",e):t.setAttribute("fill","var(--white3)");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M0 0h24v24H0z"),o.setAttribute("fill","none");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"),t.append(o,s),t}},"./src/utilities/timeutils.js":(e,t,o)=>{function s(e,t){let o;return 60===t&&(t=0,e+=1),0==+e?(e=12,o="am"):e<12?o="am":12===e?o="pm":24===e?(o="am",e-=12):(e-=12,o="pm"),0==+t?`${e}${o}`:`${e}:${t}${o}`}function n(e,t){let[o,n]=e,[r,a]=t,[i,c]=[s(o,r),s(n,a)];return i.slice(-2)===c.slice(-2)&&(i=i.slice(0,-2)),`${i} â€“ ${c}`}function r(e){return 0===e?"00":e}function a(e,t){let o,[s,n]=e.split(":"),[r,a]=t.split(":"),i=60*(r-s)+(a-n);return o=!(i<0)||15*Math.ceil(i/15),[i,o]}o.r(t),o.d(t,{compareTimes:()=>a,configMinutesForStore:()=>r,default:()=>i,formatStartEndTimes:()=>n,formatTime:()=>s});const i=function(e,t){let o=Math.floor(+e/4),n=15*+e%60,r=Math.floor((e+t)/4),a=15*(e+t)%60,i=s(o,n),c=s(r,a);return i.slice(-2)==c.slice(-2)&&(i=i.slice(0,-2)),`${i} â€“ ${c}`}}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{o.r(s);var e=o("./src/context/appContext.js"),t=o("./src/context/store.js"),n=o("./src/config/appDefaults.js"),r=o("./src/config/renderViews.js");o("./src/styles/root.css"),o("./src/styles/header.css"),o("./src/styles/containers.css"),o("./src/styles/yearview.css"),o("./src/styles/monthview.css"),o("./src/styles/weekview.css"),o("./src/styles/dayview.css"),o("./src/styles/listview.css"),o("./src/styles/sidebar.css"),o("./src/styles/sbdatepicker.css"),o("./src/styles/aside/datepicker.css"),o("./src/styles/aside/toast.css"),o("./src/styles/aside/goto.css"),o("./src/styles/aside/toggleForm.css"),o("./src/styles/aside/sidebarSubMenu.css"),o("./src/styles/aside/changeViewModule.css"),o("./src/styles/aside/editCategoryForm.css"),o("./src/styles/aside/form.css"),o("./src/styles/aside/timepicker.css"),o("./src/styles/aside/deleteCategoryPopup.css"),o("./src/styles/aside/entryOptions.css"),o("./src/styles/aside/info.css"),o("./src/styles/aside/shortcuts.css");(0,n.default)(e.default,t.default),(0,r.default)(e.default,e.datepickerContext,t.default)})()})();
//# sourceMappingURL=bundle.js.map